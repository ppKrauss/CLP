{
    "docs": [
        {
            "location": "/", 
            "text": "CLP\nv0.0.1 - rascunho\n\n\nProposta de \nC\n\u00f3digo \nL\nocalizador de \nP\nort\u00e3o, CLP: recomenda\u00e7\u00f5es, estudos de viabilidade e lan\u00e7amento de consulta p\u00fablica para a proposta de um padr\u00e3o.\n\n\nA ideia central do CLP \u00e9 \noferecer de maneira simples e padronizada, atrav\u00e9s de um c\u00f3digo, a localiza\u00e7\u00e3o geogr\u00e1fica de um port\u00e3o\n. O c\u00f3digo seria usado tamb\u00e9m como  \n\"endere\u00e7o do \nlocal\n\"\n ao qual o port\u00e3o d\u00e1 acesso.\n\n\nPorteira, port\u00e3o, porta ou portal: no meio urbano a menor dist\u00e2ncia entre port\u00f5es \u00e9 da ordem de 3 metros, no meio rural \u00e9 da ordem de 15 metros. Port\u00f5es de condom\u00ednios, parques, etc. no meio urbano, requerem menos precis\u00e3o, como no meio rural.\n\n\n\n\nAs tecnologias para se implantar e padronizar um CLP  s\u00e3o bem consolidadas, existem op\u00e7\u00f5es como o \nGeohash\n, \nS2\n ou \nPlusCode\n, que s\u00e3o padr\u00f5es livres, e \nMapCode\n ou Whats3words, patenteados mas \u00fateis como exemplo. Estas op\u00e7\u00f5es podem ser melhor adaptadas \u00e0s condi\u00e7\u00f5es e padr\u00f5es locais do Brasil, e nisto consistir\u00e1 uma parte relevante dos estudos e recomenda\u00e7\u00f5es realizados pelo presente projeto.\n\n\nQueremos substituir o CEP\n por um c\u00f3digo que v\u00e1 al\u00e9m: assim como o CEP, seu prefixo identifica partes maiores, estado, cidade, bairro, rua... E n\u00e3o deveria parar por a\u00ed, j\u00e1 existe tecnologia para, com um simples c\u00f3digo, chegarmos at\u00e9 o port\u00e3o!\n\n\nPara localizar o \"port\u00e3o\" do \nMASP\n, por exemplo.\n\n\n\n\nOs c\u00f3digos de localiza\u00e7\u00e3o existentes, como o Geohash ou o PlusCode, podem ser melhorados, \nadaptados para o Brasil\n, fazer uso do que os brasieiros j\u00e1 usam no dia-a-dia. Deveria ser natural, por exemplo,\n\n\n\n\n\n\no uso de abrevia\u00e7\u00f5es consagradas como os \nc\u00f3digos de estado\n: \nBR-SP\n ou simplesmente \nSP\n designa o Estado de S\u00e3o Paulo, \nAM\n Amazonas, etc.\n\n\n\n\n\n\na \nabrevia\u00e7\u00e3o de \n3 letras do munic\u00edpio\n:  Sampa \u00e9 \nSPA\n, a vizinha Guarulhos \nGRH\n e Piracicaba \nPIR\n;\n\n\n\n\n\n\ndas regras de  \nhierarquia\n: primeiro sigla estadual depois municipal. A sigla  PIR s\u00f3 tem significado dentro da sua hierarquia, \nBR-SP-PIR\n significa Piracicaba, que \u00e9 diferente de \nBR-GO-PIR\n, de Pires do Rio;\n\n\n\n\n\n\ndo \ncontexto\n. Numa carta internacional acrescentamos prefixo \nBR\n ficando \nBR-SP-SPA\n, mas se a carta  circula apenas dentro de SP basta \nPIR\n ou \nSPA\n.\n\n\n\n\n\n\nIsso tudo resultaria em um c\u00f3digo CLP mais adequado para o brasileiro usar. As siglas voc\u00ea n\u00e3o v\u00ea todos os dias, mas j\u00e1 vinhamos usando: em diversos c\u00f3digos oficiais, tais como \nidentificadores LEX de normas jur\u00eddicas\n, e nas placas de vias p\u00fablicas ou mapas oficiais. As siglas est\u00e3o no c\u00f3digo das estradas federais (ex. BR-116), estaduais (ex. SP-147) e municipais (ex. PIR-033).\n\n\nVoltemos ao CLP do MASP, como \u00e9 hoje e como seriam pequenas adapta\u00e7\u00f5es:\n\n\n\n\n\n\n\n\nOp\u00e7\u00e3o de CLP proposta\n\n\nTecnologia de refer\u00eancia (c\u00f3digo padr\u00e3o) e resolu\u00e7\u00e3o\n\n\n\n\n\n\n\n\n\n\nSP\n\n\nC\u00f3digo ISO\n 3166\n do estado (BR-SP)\n\n\n\n\n\n\nSP:Y\n\n\nGeohash\n da regi\u00e3o (\n6gy\n)\n ~140x140 km\n\n\n\n\n\n\nSP-SPA\n\n\nC\u00f3digo Oficial\n do munic\u00edpio\n (\nBR-SP-SPA\n)\n\n\n\n\n\n\nSP:YCF\n\n\nGeohash\n da sub-regi\u00e3o (\n6gycf\n)\n ~4x5 km\n\n\n\n\n\n\nSPA-YCFQ.F0\n\n\nGeohash\n do \nport\u00e3o\n (\n6gycfqf0\n)\n ~25x20\nm\n\n\n\n\n\n\nSPA-YCFQ.F0M\n\n\nGeohash\n de um  ponto (\n6gycfqf0m\n)\n ~4x4\nm\n\n\n\n\n\n\nSPA-C8QV+CJ\n\n\nPlusCode\n do \nport\u00e3o\n (\n588MC8QV+CJ\n)\n ~15x15 m\n\n\n\n\n\n\nSPA-C8QV+CJ4\n\n\nPlusCode\n de um ponto (\n588MC8QV+CJ4\n)\n ~3x3 m\n\n\n\n\n\n\nSPA-2PP5.5C\n*\n\n\nS2\n do \nport\u00e3o\n (\n94ce59c94ac\n)\n ~15x15\nm\n\n\n\n\n\n\nSPA-1CSI.IN1\n*\n\n\nS2\n de um ponto (\n94ce59c94ae1\n)\n ~2x2\nm\n\n\n\n\n\n\n* \nconvertido p. base32.\n\n\n\n\n\n\n\n\n\n\nNo debate devemos chamar aten\u00e7\u00e3o para o fato de que o PlusCode n\u00e3o satisfaz o requisito da hierarquia nas macroregi\u00f5es: \u00e9 fundamental saber, antes de decidir qual tecnologia usar, quais crit\u00e9rios consensuais adotaremos.\n\n\nEntre os padr\u00f5es que satisfazem todos os requisitos, como o Geohash e o S2, outras  otimiza\u00e7\u00f5es podem ainda ser realizadas, levando a c\u00f3digos mais curtos ou mnem\u00f4nicos.  Ao fixarmos em normas brasileiras uma tabela de subregi\u00f5es do munic\u00edpio, por exemplo, podemos reduzir em um d\u00edgito ambos os casos S2 e Geohash. Se al\u00e9m disso, fazermos uso de estimativas da \"mancha urbana futura\" como fizeram o CEP e o MapCode, o resultado fica ainda melhor, mas a custo de c\u00f3digos mais longos no meio rural... Tudo isso seria detalhado pelo presente projeto, para que tenhamos \nsubs\u00eddios para uma decis\u00e3o racional\n.\n\n\nO \nlevantamento sistem\u00e1tico, com sele\u00e7\u00e3o de otimiza\u00e7\u00f5es vi\u00e1veis e a \ncompara\u00e7\u00e3o\n dos resultados otimizados \u00e9 tamb\u00e9m tema central da presente proposta, um resultado importante de ser apresentado.\n\n\n\nDois padr\u00f5es, via e coordenada\n\n\nAfinal CLP, \nC\u00f3digo Localizador de Port\u00e3o\n, faz tamb\u00e9m papel de \"endere\u00e7o da casa dona do port\u00e3o\".  Falta ent\u00e3o definir um outro padr\u00e3o que \u00e9 um c\u00f3digo que seja uma vers\u00e3o compacta do  endere\u00e7o postal tradicional. Por exemplo o endere\u00e7o do MASP,  \n\"Avenida Paulista 1578, S\u00e3o Paulo\"\n. Suponhamos que o c\u00f3digo oficial da avenida fosse \nU131\n, ent\u00e3o o CLP  resultaria em algo como \n \nSPA-U131-1578\n.\n\n\nEsse tipo de c\u00f3digo \u00e9 importante para a representa\u00e7\u00e3o interna dos endere\u00e7os de correspond\u00eancia em bancos de dados abertos, e na comunica\u00e7\u00e3o entre bancos de dados (interoperabilidade).  \n\n\nExistem portanto dois grupos principais de CLPs:\n\n\n\n\nDefini\u00e7\u00e3o do tipo\n \nAplica\u00e7\u00f5es e exemplos\n\n\n\n\nCLP-via\n:\nSolu\u00e7\u00f5es baseadas na \nproximidade do port\u00e3o com uma via de acesso\n a ele. \nO CLP-via seria uma escrita simplificada e padronizada do \nendere\u00e7o postal\n; o tradicional, baseado em logradouro e numera\u00e7\u00e3o predial.\n\nGarantiria maior  interoperabilidade entre bases de endere\u00e7os.\n\n\n\nCLP-coordenada\n:\n Solu\u00e7\u00f5es baseadas na \ncoordenada geogr\u00e1fica do port\u00e3o\n.\n Um algoritmo seguro, do tipo Geohash, PlusCode ou outro, toma como entrada as coordenadas padr\u00e3o \n[Geo URI\n, e devolve um c\u00f3digo compacto, que \u00e9 adotado como CLP.\n\n\n\nSeria um c\u00f3digo dado por tecnologias como as exemplificadas, Geohash, S2, PlusCode, etc. Al\u00e9m  do CLP-coordenada ser proposto como substituto do CEP, seria tamb\u00e9m proposto como uma op\u00e7\u00e3o de express\u00e3o de geoc\u00f3digo ou de coordenadas em protocolos similares ao Geo URI.\n\n\n\n\n\n\n\nTecnicamente um tipo pode ser convertido no outro atrav\u00e9s de \nprocedimentos de geocodifica\u00e7\u00e3o\n. Como existe um crescente \nmercado de geocofifica\u00e7\u00e3o\n, a padroniza\u00e7\u00e3o dos dois tipos de CLP  tamb\u00e9m ajudaria a regulamentar o setor, garantindo a separa\u00e7\u00e3o entre pr\u00e9-processamento do CLP-via e a geocodifica\u00e7\u00e3o, que resulta num \nGeo URI\n com certo grau de confiabilidade. Quando ambos s\u00e3o fornecidos, ambos podem ser convertidos em coordenadas geogr\u00e1ficas e comparados, aferindo-se tamb\u00e9m um grau de confiabilidade resultante da compara\u00e7\u00e3o dos dois.  Crit\u00e9rios m\u00ednimos para a avalia\u00e7\u00e3o de custo e confiabilidade na geocodifica\u00e7\u00e3o de endere\u00e7os brasileiros, portanto, passariam a ser vi\u00e1veis.\n\n\n\n\n\nPlanejamento\n\n\nO trabalho foi apenas esbo\u00e7ado,  um banco de dados preparado, alguns testes foram feitos... Mas ainda h\u00e1 muito que ser realizado. A seguir o planejamento detalhado, incluindo metas e prazos.\n\n\nObjetivo e metas do trabalho\n\n\nObjetivo geral: \nRevisar, debater e publicar os resultados da consulta p\u00fablica sobre  \nespecifica\u00e7\u00e3o t\u00e9cnica e recomenda\u00e7\u00f5es para um CLP\n, bem como disponibilizar prot\u00f3tipos para a realiza\u00e7\u00e3o de testes abertos durante a consulta p\u00fablica.\n\n\nObjetivos espec\u00edficos, metas e resultados previstos:\n\n\n\n\n\n\nEstabelecer formalmente os \nrequisitos do CLP\n, traduzindo em par\u00e2metros objetivos as decis\u00f5es tomadas em consenso, primeiramente na comunidade t\u00e9cnica/acad\u00eamica e depois refinando decis\u00f5es com a comunidade de potenciais usu\u00e1rios.\n\n\n\n\n\n\nLevantamento, com apoio da comunidade, das \nprincipais solu\u00e7\u00f5es e padr\u00f5es vigentes\n. A cada solu\u00e7\u00e3o avaliar se ela satisfaz os requisitos e se existem casos de uso em prefeituras ou outros pa\u00edses. Em seguida classificar variantes quando existirem alternativas ou parametriza\u00e7\u00f5es. \nPS: solu\u00e7\u00f5es sem  licen\u00e7a aberta ou adapta\u00e7\u00f5es em conflito com patentes ou \ncopyright\n j\u00e1 seriam  eliminadas nesta etapa.\n\n\n\n\n\n\nEstabelecer formalmente \nvers\u00f5es adaptadas\n e n\u00e3o-adaptadas \u00e0s condi\u00e7\u00f5es do Brasil (ao uso de abreviaturas de nomes de cidade por exemplo).\n\n\n\n\n\n\nDefini\u00e7\u00e3o, com apoio da Comunidade, de um \nconjunto de testes\n (\nbenchmark\n) ao qual todas as solu\u00e7\u00f5es e suas variantes ser\u00e3o submetidas, estabelecendo crit\u00e9rios de rejei\u00e7\u00e3o e par\u00e2metros de compara\u00e7\u00e3o.\n\n\n\n\n\n\nRelat\u00f3rio dos resultados\n de testes principais, alguns eliminat\u00f3rios.\n\n\n\n\n\n\nOferta p\u00fablica de prot\u00f3tipos\n para a comunidade testar durante um per\u00edodo os padr\u00f5es e variantes satisfat\u00f3rios.  \n\n\n\n\n\n\nReda\u00e7\u00e3o\n da especifica\u00e7\u00e3o t\u00e9cnica do CLP, seguida de disponibiliza\u00e7\u00e3o para \nconsulta p\u00fablica\n e debate, principalmente terceiro setor,  universidades, etc.\n\n\n\n\n\n\nTexto final da especifica\u00e7\u00e3o t\u00e9cnica do CLP\n, reda\u00e7\u00e3o, e entrega de pareceres.\n\n\n\n\n\n\nApoio a projetos-piloto\n com encaminhamento e reutiliza\u00e7\u00e3o da infraestrutura de testes viabilizada.\n\n\n\n\n\n\nDi\u00e1logo com autoridades\n e governo em geral: j\u00e1 vem ocorrendo e vai ocorrer em paralelo, ao longo de todo o processo. Mas com resultados seguros e a legitima\u00e7\u00e3o da comunidade, o dil\u00e1go deixa de ser consultivo e passa a ser mais propositivo. \u00c9 quando podemos apoiar e somar esfor\u00e7os com as reais autoridades do assunto, tais como SINTER, IBGE, ABNT, etc.\n\n\n\n\n\n\n\n\nConte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m \nCr\u00e9ditos das imagens\n.", 
            "title": "Apresenta\u00e7\u00e3o"
        }, 
        {
            "location": "/#dois-padroes-via-e-coordenada", 
            "text": "Afinal CLP,  C\u00f3digo Localizador de Port\u00e3o , faz tamb\u00e9m papel de \"endere\u00e7o da casa dona do port\u00e3o\".  Falta ent\u00e3o definir um outro padr\u00e3o que \u00e9 um c\u00f3digo que seja uma vers\u00e3o compacta do  endere\u00e7o postal tradicional. Por exemplo o endere\u00e7o do MASP,   \"Avenida Paulista 1578, S\u00e3o Paulo\" . Suponhamos que o c\u00f3digo oficial da avenida fosse  U131 , ent\u00e3o o CLP  resultaria em algo como    SPA-U131-1578 .  Esse tipo de c\u00f3digo \u00e9 importante para a representa\u00e7\u00e3o interna dos endere\u00e7os de correspond\u00eancia em bancos de dados abertos, e na comunica\u00e7\u00e3o entre bancos de dados (interoperabilidade).    Existem portanto dois grupos principais de CLPs:   Defini\u00e7\u00e3o do tipo   Aplica\u00e7\u00f5es e exemplos   CLP-via : Solu\u00e7\u00f5es baseadas na  proximidade do port\u00e3o com uma via de acesso  a ele.  O CLP-via seria uma escrita simplificada e padronizada do  endere\u00e7o postal ; o tradicional, baseado em logradouro e numera\u00e7\u00e3o predial. Garantiria maior  interoperabilidade entre bases de endere\u00e7os.  CLP-coordenada :  Solu\u00e7\u00f5es baseadas na  coordenada geogr\u00e1fica do port\u00e3o .  Um algoritmo seguro, do tipo Geohash, PlusCode ou outro, toma como entrada as coordenadas padr\u00e3o  [Geo URI , e devolve um c\u00f3digo compacto, que \u00e9 adotado como CLP.  Seria um c\u00f3digo dado por tecnologias como as exemplificadas, Geohash, S2, PlusCode, etc. Al\u00e9m  do CLP-coordenada ser proposto como substituto do CEP, seria tamb\u00e9m proposto como uma op\u00e7\u00e3o de express\u00e3o de geoc\u00f3digo ou de coordenadas em protocolos similares ao Geo URI.    Tecnicamente um tipo pode ser convertido no outro atrav\u00e9s de  procedimentos de geocodifica\u00e7\u00e3o . Como existe um crescente  mercado de geocofifica\u00e7\u00e3o , a padroniza\u00e7\u00e3o dos dois tipos de CLP  tamb\u00e9m ajudaria a regulamentar o setor, garantindo a separa\u00e7\u00e3o entre pr\u00e9-processamento do CLP-via e a geocodifica\u00e7\u00e3o, que resulta num  Geo URI  com certo grau de confiabilidade. Quando ambos s\u00e3o fornecidos, ambos podem ser convertidos em coordenadas geogr\u00e1ficas e comparados, aferindo-se tamb\u00e9m um grau de confiabilidade resultante da compara\u00e7\u00e3o dos dois.  Crit\u00e9rios m\u00ednimos para a avalia\u00e7\u00e3o de custo e confiabilidade na geocodifica\u00e7\u00e3o de endere\u00e7os brasileiros, portanto, passariam a ser vi\u00e1veis.", 
            "title": "Dois padr\u00f5es, via e coordenada"
        }, 
        {
            "location": "/#planejamento", 
            "text": "O trabalho foi apenas esbo\u00e7ado,  um banco de dados preparado, alguns testes foram feitos... Mas ainda h\u00e1 muito que ser realizado. A seguir o planejamento detalhado, incluindo metas e prazos.", 
            "title": "Planejamento"
        }, 
        {
            "location": "/#objetivo-e-metas-do-trabalho", 
            "text": "Objetivo geral:  Revisar, debater e publicar os resultados da consulta p\u00fablica sobre   especifica\u00e7\u00e3o t\u00e9cnica e recomenda\u00e7\u00f5es para um CLP , bem como disponibilizar prot\u00f3tipos para a realiza\u00e7\u00e3o de testes abertos durante a consulta p\u00fablica.  Objetivos espec\u00edficos, metas e resultados previstos:    Estabelecer formalmente os  requisitos do CLP , traduzindo em par\u00e2metros objetivos as decis\u00f5es tomadas em consenso, primeiramente na comunidade t\u00e9cnica/acad\u00eamica e depois refinando decis\u00f5es com a comunidade de potenciais usu\u00e1rios.    Levantamento, com apoio da comunidade, das  principais solu\u00e7\u00f5es e padr\u00f5es vigentes . A cada solu\u00e7\u00e3o avaliar se ela satisfaz os requisitos e se existem casos de uso em prefeituras ou outros pa\u00edses. Em seguida classificar variantes quando existirem alternativas ou parametriza\u00e7\u00f5es.  PS: solu\u00e7\u00f5es sem  licen\u00e7a aberta ou adapta\u00e7\u00f5es em conflito com patentes ou  copyright  j\u00e1 seriam  eliminadas nesta etapa.    Estabelecer formalmente  vers\u00f5es adaptadas  e n\u00e3o-adaptadas \u00e0s condi\u00e7\u00f5es do Brasil (ao uso de abreviaturas de nomes de cidade por exemplo).    Defini\u00e7\u00e3o, com apoio da Comunidade, de um  conjunto de testes  ( benchmark ) ao qual todas as solu\u00e7\u00f5es e suas variantes ser\u00e3o submetidas, estabelecendo crit\u00e9rios de rejei\u00e7\u00e3o e par\u00e2metros de compara\u00e7\u00e3o.    Relat\u00f3rio dos resultados  de testes principais, alguns eliminat\u00f3rios.    Oferta p\u00fablica de prot\u00f3tipos  para a comunidade testar durante um per\u00edodo os padr\u00f5es e variantes satisfat\u00f3rios.      Reda\u00e7\u00e3o  da especifica\u00e7\u00e3o t\u00e9cnica do CLP, seguida de disponibiliza\u00e7\u00e3o para  consulta p\u00fablica  e debate, principalmente terceiro setor,  universidades, etc.    Texto final da especifica\u00e7\u00e3o t\u00e9cnica do CLP , reda\u00e7\u00e3o, e entrega de pareceres.    Apoio a projetos-piloto  com encaminhamento e reutiliza\u00e7\u00e3o da infraestrutura de testes viabilizada.    Di\u00e1logo com autoridades  e governo em geral: j\u00e1 vem ocorrendo e vai ocorrer em paralelo, ao longo de todo o processo. Mas com resultados seguros e a legitima\u00e7\u00e3o da comunidade, o dil\u00e1go deixa de ser consultivo e passa a ser mais propositivo. \u00c9 quando podemos apoiar e somar esfor\u00e7os com as reais autoridades do assunto, tais como SINTER, IBGE, ABNT, etc.     Conte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m  Cr\u00e9ditos das imagens .", 
            "title": "Objetivo e metas do trabalho"
        }, 
        {
            "location": "/spec01-hub/", 
            "text": "((em constru\u00e7\u00e3o))\n\nCLP - Especifica\u00e7\u00f5es\n\n\nEspecifica\u00e7\u00f5es T\u00e9cnicas do \nC\u00f3digo Localizador de Port\u00e3o\n (CLP), conforme testes, levantamentos e consulta p\u00fablica realizada em \nprojeto de iniciativa da Comunidade OSM Brasil\n.\n\n\nSintaxe b\u00e1sica\n\n\nA CLP \u00e9 um tipo de c\u00f3digo identificador, que toma a forma de \ncadeia de caracteres\n dividida em duas partes, um prefixo e um sufixo, separadas por um h\u00edfen:\n \nCLP\n = \nprefixo\n \"-\" \nsufixo\n\n\nOnde o prefixo \u00e9 uma sigla \nISO\n3166-2:BR\n composta de c\u00f3digo do pa\u00eds (Brasil=BR), \ncountry\n, c\u00f3digo da unidade da federa\u00e7\u00e3o (por ex. estado de S\u00e3o Paulo \u00e9 SP), \nuf\n, e uma sigla de 3 letras do nome do munic\u00edpio, \nabbrev3\n,\n \nprefixo\n = \ncountry\n \"-\" \nuf\n \"-\" \nabbrev3\n.\n\n\nO CLP n\u00e3o existe sozinho como se fosse um nome, ele dependente tamb\u00e9m da sua \"infraestrutura de \nresolu\u00e7\u00e3o do CLP\n\", que \u00e9 o mecanismo que garante a tradu\u00e7\u00e3o do c\u00f3digo em coordenadas geogr\u00e1ficas de latitude e longitude.\n\n\nNesta especifica\u00e7\u00e3o s\u00e3o definidos dois tipos de CLP, o \"CLP default\", tamb\u00e9m apelidado de CLP-coordenada, recomendado para a resolu\u00e7\u00e3o em mapas e para substituir o CEP,  e o CLP-via, utilizado como vers\u00e3o compacta do  endere\u00e7amento postal tradicional, baseado em logradouro e numera\u00e7\u00e3o predial.\n\n\nNo caso do CLP-coordenada foi desenvolvida uma especifica\u00e7\u00e3o de requisitos gerais, e diversas especifca\u00e7\u00f5es complementares, conforme o padr\u00e3o de refer\u00eancia adotado (Geohash, PlusCode e S2cellId).  \n\n\nA seguir um breve cada um dos m\u00f3dulos da especifica\u00e7\u00e3o \u00e9 apresentado com um breve resumo.\n\n\nPrefixo\n\n\nOs componentes do prefixo do CLP s\u00e3o, na sequ\u00eancia:\n\n\n\n\n\n\ncountry\n-\nuf\n: c\u00f3digo \nISO_3166-2:BR\n vigente. \nA \u00faltima altera\u00e7\u00e3o nestes c\u00f3digos foram acr\u00e9scimos em 1988 e 1977 e uma altera\u00e7\u00e3o em 1962 \n surgiram MS e TO, e  Rio Branco (RB) foi rebatizado para Roraima (RR) \n, de modo que \u00e9 considerado um prefixo est\u00e1vel desde ent\u00e3o.\nPara os testes, a tradu\u00e7\u00e3o das siglas em outros identificadores (ex. n\u00famero IBGE ou nome) est\u00e1 sendo adotado o conjunto de dados http://datasets.ok.org.br/state-codes\n\n\n\n\n\n\nabbrev3\n: c\u00f3digo de abrevia\u00e7\u00e3o de 3 letras. Ver \nap\u00eandice siglas\n;\n\n\n\n\n\n\nmacrocells\n: (opcional conforme munic\u00edpio) c\u00f3digo de macroc\u00e9lula.\n\n\n\n\n\n\n.... quest\u00e3o das abrevia\u00e7\u00f5es\nAs \nregular expressions\n (regex) s\u00e3o \ncase-insensitive\n, mas \u00e9 recomendado quando poss\u00edvel manter o c\u00f3digo em mai\u00fasculas, seguindo a tradi\u00e7\u00e3o ISO 3166 do prefixo.\n\n\n\n\nReggex geral []\n\n\n\n\nSensibilidade ao contexto\n\n\n... Prefixo de \ncountry\n e \nuf\n s\u00e3o dispens\u00e1veis conforme o contexto de localiza\u00e7\u00e3o....\n\n\nRegras de determina\u00e7\u00e3o exata do contexto\n\n\n\n\nSe o valor de \ncountry\n \u00e9 conhecido (certeza quanto ser BR), e uma coordenada latLong \u00e9 fornecida com precis\u00e3o da ordem de ...\n\n\nSe a coordenada geogr\u00e1fica \u00e9 conhecida com precis\u00e3o de ..\n\n\nSe o valor de \nuf\n \u00e9 conhecido... a UF pode designar a capital na sintaxe \nuf\n-\nsufixo\n, dispensando o uso de   \nabbrev3\n...\n\n\n...\n\n\n\n\nSufixo no CLP-coordenada\n\n\n...\n\n\nFinalidades principais\n\n\nA padroniza\u00e7\u00e3o requer expressar em linguagem t\u00e9cnica e precisa o que se adota como padr\u00e3o. Quando fazemos isso descobrimos como diversos padr\u00f5es podem se relacionar, garantindo que \"conversem\" entre eles, ou seja, garantindo a interoperabilidade.  \n\n\nA rigor o \"port\u00e3o gen\u00e9rico\" adotado pelo CLP \u00e9 um \"ponto de acesso ao lote\", de maneira que \nh\u00e1 um v\u00ednculo entre o CLP e o \nlote\n, e entre a precis\u00e3o do CLP (erro nas coordenadas do ponto que ele representa) e o tamanho da \u00e1rea ocupada pelo lote.\n Al\u00e9m dessa indep\u00eancia do tipo de port\u00e3o, o CLP se prestaria a m\u00faltiplos usos, destando-se:\n\n\n\n\n\n\nServir de endere\u00e7o oficial ou componente do endere\u00e7o oficial:\n\n\n1.1. Servir (potencialmente) de \nc\u00f3digo postal\n, em \nsubstitui\u00e7\u00e3o ao CEP\n.\n\n\n1.2. Servir de \nendere\u00e7o oficial do port\u00e3o\n, em bases de dados padr\u00f5es de interoperabilidade,\n  no sentido de ser identificador \u00fanico de uma via de acesso, ou de um ponto ou regi\u00e3o esrat\u00e9gica do lote.\n\n\n1.3. Servir de \nendere\u00e7o principal do lote\n, quando no papel de identificador do \n\"port\u00e3o principal\"\n. \u00c9 portanto um componente  ao \"esquema de identifica\u00e7\u00e3o un\u00edvoca do lote\" ao qual pertence o port\u00e3o. \nComponente de redund\u00e2ncia no caso de esquemas de identifica\u00e7\u00e3o de lotes como do \nSINTER\n,\n mas num papel de maior relev\u00e2ncia do que o CEP. Recomenda-se inclusive que o SINTER e o CLP fa\u00e7am uso de infraestrutura comum  \n na pr\u00e1tica fa\u00e7am uso de mesmo prefixo nos respectivos identificadores.\n\n\n\n\n\n\nInstruir aplicativos sobre as \ncoordenadas geogr\u00e1ficas do port\u00e3o\n. Essa coordenada  teria precis\u00e3o da ordem de \n3 metros no meio urbano\n e da ordem de \n15 metros no meio rural\n.\nNeste contexto o principal requisito  de interoperabilidade \u00e9 que o c\u00f3digo seja compat\u00edvel  com as normas Web (ISO, W3C e RFC) para express\u00e3o de par\u00e2metros em \nURIs\n. \nExemplos: visualizar um CLP em destaque no OpenStreetMap, postar o CLP no Whatsapp para avisar os amigos do local da festa, digitar o CLP no Uber,  falar o CLP no telefone para garantir o local exato da entrega da pizza.\n\n\n\n\n\n\nSnap de endere\u00e7os conhecidos\n\n\n... \nsnap rounding\n na grade local do CLP... \n\n\nCLP baseado em Geohash\n\n\n...\n\n\nCLP baseado em PlusCode\n\n\n...\n\n\nCLP baseado em S2\n\n\n...\n\n\nSufixo no CLP-via\n\n\n...\n\n\n\n\nConte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m \nCr\u00e9ditos das imagens\n.", 
            "title": "Geral"
        }, 
        {
            "location": "/spec01-hub/#sintaxe-basica", 
            "text": "A CLP \u00e9 um tipo de c\u00f3digo identificador, que toma a forma de  cadeia de caracteres  dividida em duas partes, um prefixo e um sufixo, separadas por um h\u00edfen:   CLP  =  prefixo  \"-\"  sufixo  Onde o prefixo \u00e9 uma sigla  ISO 3166-2:BR  composta de c\u00f3digo do pa\u00eds (Brasil=BR),  country , c\u00f3digo da unidade da federa\u00e7\u00e3o (por ex. estado de S\u00e3o Paulo \u00e9 SP),  uf , e uma sigla de 3 letras do nome do munic\u00edpio,  abbrev3 ,   prefixo  =  country  \"-\"  uf  \"-\"  abbrev3 .  O CLP n\u00e3o existe sozinho como se fosse um nome, ele dependente tamb\u00e9m da sua \"infraestrutura de  resolu\u00e7\u00e3o do CLP \", que \u00e9 o mecanismo que garante a tradu\u00e7\u00e3o do c\u00f3digo em coordenadas geogr\u00e1ficas de latitude e longitude.  Nesta especifica\u00e7\u00e3o s\u00e3o definidos dois tipos de CLP, o \"CLP default\", tamb\u00e9m apelidado de CLP-coordenada, recomendado para a resolu\u00e7\u00e3o em mapas e para substituir o CEP,  e o CLP-via, utilizado como vers\u00e3o compacta do  endere\u00e7amento postal tradicional, baseado em logradouro e numera\u00e7\u00e3o predial.  No caso do CLP-coordenada foi desenvolvida uma especifica\u00e7\u00e3o de requisitos gerais, e diversas especifca\u00e7\u00f5es complementares, conforme o padr\u00e3o de refer\u00eancia adotado (Geohash, PlusCode e S2cellId).    A seguir um breve cada um dos m\u00f3dulos da especifica\u00e7\u00e3o \u00e9 apresentado com um breve resumo.", 
            "title": "Sintaxe b\u00e1sica"
        }, 
        {
            "location": "/spec01-hub/#prefixo", 
            "text": "Os componentes do prefixo do CLP s\u00e3o, na sequ\u00eancia:    country - uf : c\u00f3digo  ISO_3166-2:BR  vigente.  A \u00faltima altera\u00e7\u00e3o nestes c\u00f3digos foram acr\u00e9scimos em 1988 e 1977 e uma altera\u00e7\u00e3o em 1962   surgiram MS e TO, e  Rio Branco (RB) foi rebatizado para Roraima (RR)  , de modo que \u00e9 considerado um prefixo est\u00e1vel desde ent\u00e3o. Para os testes, a tradu\u00e7\u00e3o das siglas em outros identificadores (ex. n\u00famero IBGE ou nome) est\u00e1 sendo adotado o conjunto de dados http://datasets.ok.org.br/state-codes    abbrev3 : c\u00f3digo de abrevia\u00e7\u00e3o de 3 letras. Ver  ap\u00eandice siglas ;    macrocells : (opcional conforme munic\u00edpio) c\u00f3digo de macroc\u00e9lula.    .... quest\u00e3o das abrevia\u00e7\u00f5es\nAs  regular expressions  (regex) s\u00e3o  case-insensitive , mas \u00e9 recomendado quando poss\u00edvel manter o c\u00f3digo em mai\u00fasculas, seguindo a tradi\u00e7\u00e3o ISO 3166 do prefixo.   Reggex geral []", 
            "title": "Prefixo"
        }, 
        {
            "location": "/spec01-hub/#sensibilidade-ao-contexto", 
            "text": "... Prefixo de  country  e  uf  s\u00e3o dispens\u00e1veis conforme o contexto de localiza\u00e7\u00e3o....", 
            "title": "Sensibilidade ao contexto"
        }, 
        {
            "location": "/spec01-hub/#regras-de-determinacao-exata-do-contexto", 
            "text": "Se o valor de  country  \u00e9 conhecido (certeza quanto ser BR), e uma coordenada latLong \u00e9 fornecida com precis\u00e3o da ordem de ...  Se a coordenada geogr\u00e1fica \u00e9 conhecida com precis\u00e3o de ..  Se o valor de  uf  \u00e9 conhecido... a UF pode designar a capital na sintaxe  uf - sufixo , dispensando o uso de    abbrev3 ...  ...", 
            "title": "Regras de determina\u00e7\u00e3o exata do contexto"
        }, 
        {
            "location": "/spec01-hub/#sufixo-no-clp-coordenada", 
            "text": "...", 
            "title": "Sufixo no CLP-coordenada"
        }, 
        {
            "location": "/spec01-hub/#finalidades-principais", 
            "text": "A padroniza\u00e7\u00e3o requer expressar em linguagem t\u00e9cnica e precisa o que se adota como padr\u00e3o. Quando fazemos isso descobrimos como diversos padr\u00f5es podem se relacionar, garantindo que \"conversem\" entre eles, ou seja, garantindo a interoperabilidade.    A rigor o \"port\u00e3o gen\u00e9rico\" adotado pelo CLP \u00e9 um \"ponto de acesso ao lote\", de maneira que  h\u00e1 um v\u00ednculo entre o CLP e o  lote , e entre a precis\u00e3o do CLP (erro nas coordenadas do ponto que ele representa) e o tamanho da \u00e1rea ocupada pelo lote.  Al\u00e9m dessa indep\u00eancia do tipo de port\u00e3o, o CLP se prestaria a m\u00faltiplos usos, destando-se:    Servir de endere\u00e7o oficial ou componente do endere\u00e7o oficial:  1.1. Servir (potencialmente) de  c\u00f3digo postal , em  substitui\u00e7\u00e3o ao CEP .  1.2. Servir de  endere\u00e7o oficial do port\u00e3o , em bases de dados padr\u00f5es de interoperabilidade,\n  no sentido de ser identificador \u00fanico de uma via de acesso, ou de um ponto ou regi\u00e3o esrat\u00e9gica do lote.  1.3. Servir de  endere\u00e7o principal do lote , quando no papel de identificador do  \"port\u00e3o principal\" . \u00c9 portanto um componente  ao \"esquema de identifica\u00e7\u00e3o un\u00edvoca do lote\" ao qual pertence o port\u00e3o.  Componente de redund\u00e2ncia no caso de esquemas de identifica\u00e7\u00e3o de lotes como do  SINTER ,  mas num papel de maior relev\u00e2ncia do que o CEP. Recomenda-se inclusive que o SINTER e o CLP fa\u00e7am uso de infraestrutura comum    na pr\u00e1tica fa\u00e7am uso de mesmo prefixo nos respectivos identificadores.    Instruir aplicativos sobre as  coordenadas geogr\u00e1ficas do port\u00e3o . Essa coordenada  teria precis\u00e3o da ordem de  3 metros no meio urbano  e da ordem de  15 metros no meio rural . Neste contexto o principal requisito  de interoperabilidade \u00e9 que o c\u00f3digo seja compat\u00edvel  com as normas Web (ISO, W3C e RFC) para express\u00e3o de par\u00e2metros em  URIs .  Exemplos: visualizar um CLP em destaque no OpenStreetMap, postar o CLP no Whatsapp para avisar os amigos do local da festa, digitar o CLP no Uber,  falar o CLP no telefone para garantir o local exato da entrega da pizza.", 
            "title": "Finalidades principais"
        }, 
        {
            "location": "/spec01-hub/#snap-de-enderecos-conhecidos", 
            "text": "...  snap rounding  na grade local do CLP...", 
            "title": "Snap de endere\u00e7os conhecidos"
        }, 
        {
            "location": "/spec01-hub/#clp-baseado-em-geohash", 
            "text": "...", 
            "title": "CLP baseado em Geohash"
        }, 
        {
            "location": "/spec01-hub/#clp-baseado-em-pluscode", 
            "text": "...", 
            "title": "CLP baseado em PlusCode"
        }, 
        {
            "location": "/spec01-hub/#clp-baseado-em-s2", 
            "text": "...", 
            "title": "CLP baseado em S2"
        }, 
        {
            "location": "/spec01-hub/#sufixo-no-clp-via", 
            "text": "...   Conte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m  Cr\u00e9ditos das imagens .", 
            "title": "Sufixo no CLP-via"
        }, 
        {
            "location": "/spec02-coord/", 
            "text": "((em constru\u00e7\u00e3o))\n\n\nCLP baseado na coordenada\n\n\nAs coordenadas geogr\u00e1ficas e a sua representa\u00e7\u00e3o em padr\u00f5es abertos n\u00e3o dependem de qualquer infraestrutura e, portanto, n\u00e3o dependem de nenhuma organiza\u00e7\u00e3o ou empresa para sua exist\u00eancia ou uso continuado.\n\n\nComo \napresentado na introdu\u00e7\u00e3o\n as coordenadas geogr\u00e1ficas, expressas no seu formato usual de latitude e longitude decimais, formam um c\u00f3digo muito longo. Al\u00e9m disso, como o CLP substituir\u00e1 o CEP, \u00e9 importante que seja um n\u00famero s\u00f3, hier\u00e1rquico \n seu primeiro d\u00edgito representa uma macro-regi\u00e3o e o prefixo com mais d\u00edgitos representa uma micro-regi\u00e3o.\n\n\nUma das estrat\u00e9gias de compacta\u00e7\u00e3o do CLP-coordenada, j\u00e1 demonstrada em anexo desta especifica\u00e7\u00e3o,\n\n\nO Geohash n\u00e3o \u00e9 o \u00fanico candidato a CLP-coordenada, apenas ilustra abaixo como seria a sua anatomia no uso pr\u00e1tico. Neste relat\u00f3rio ser\u00e3o analisados tamb\u00e9m o MapCode, o PlusCode e o S2geometry.\n\n\n\n\nCaracter\u00edsticas prefixadas\n\n\nApesar dos algorimos e suas variantes proporcionarem certa liberdade de escolha, as seguintes caracter\u00edsticas de um  CLP-coordenada foram previamente fixadas:\n\n\n\n\nprefixo hier\u00e1rquico do c\u00f3digo CLP, at\u00e9 \nabbrev3\n: definido conforme a \nespecifica\u00e7\u00e3o\n.\n\n\ngrade e cobertua dos pol\u00edgonos de \nmacrocells\n: ser\u00e3o recomendados algoritmos e metodologias gerais, para todos os munic\u00edpios.\n\n\n\n\nConvers\u00e3o para prefixo\n\n\nO algoritmo de convers\u00e3o que transforma dados da Geo URI em \nprefixo de c\u00f3digo CLP-coordenada\n \u00e9 definido \na priori\n, deve ser entendido como um passo intermedi\u00e1rio, antes da convers\u00e3o final, que gera o sufixo atrav\u00e9s de um \nalgoritmo de convers\u00e3o para CLP\n.\n\n\n...\n\n\n\n\nENTRADA: Geo URI e contexto.\n\n\nSA\u00cdDA: Geo URI, prefixo e metadados da macroc\u00e9lula.\n\n\n\n\nCabe em \u00faltima an\u00e1lise \u00e0 autoridade local (ex. prefeitura) e \u00e0 autoridade normativa (ex. IBGE ou SINTER) negociarem qual ser\u00e1 a grade macroc\u00e9lulas. Um algoritmo complementar apenas sugere uma poss\u00edvel parti\u00e7\u00e3o do territ\u00f3rio municipal em zero, 32 ou 1024 macroc\u00e9lulas.\n\n\nConvers\u00e3o para CLP\n\n\nUm algoritmo de convers\u00e3o transforma dados da Geo URI em c\u00f3digo CLP-coordenada.\n\n\n\n\nENTRADA: Geo URI, contexto normalizado e macroc\u00e9lula. (proveniente da \nconvers\u00e3o de prefixo\n)\n\n\nSA\u00cdDA: c\u00f3digo CLP definido pelo pr\u00f3prio algoritmo, e satisfazendo os crit\u00e9rios abaixo.\n\n\n\n\nCrit\u00e9rios eliminat\u00f3rios\n para a sele\u00e7\u00e3o de algoritmos de refer\u00eancia:\n\n\n\n\n\n\nSer consistente com a classifica\u00e7\u00e3o de \nGrade Discreta Global\n (do ingl\u00eas \nHierarchical DGG\n), de modo que o lugar  identificado pelo CLP-coordenada seria uma c\u00e9lula da DGG proposta pelo algoritmo.\n\n\n\n\n\n\nEstar publicado h\u00e1 mais de 1 ano e ter sido testado por uma comunidade ampla de usu\u00e1rios.\n\n\n\n\n\n\nN\u00e3o pode ter perda injustificada de funcionalidade, ou performance inferior aos \nalgoritmos ing\u00eanuos\n.\n\n\n\n\n\n\nApresentar licen\u00e7a livre (senso \nOpenDefinition\n) e n\u00e3o depender de bases de dados n\u00e3o-livres (com copyright como o CEP) ou mecanismos adicionais patenteados (ex. restri\u00e7\u00f5es para o uso em QR Code).\n\n\n\n\n\n\nCrit\u00e9rios e requisitos classificat\u00f3rios\n para que os \nc\u00f3digos de sufixo\n gerados por dois algoritmos possam ser comparados.\n\n\n\n\n\n\nSer curto o suficiente para que possa ser memorizado pelo usu\u00e1rio humano.\n\n\n\n\n\n\nSer auto-suficiente, n\u00e3o exigindo informa\u00e7\u00f5es adicionais al\u00e9m daquelas j\u00e1 fornecidas pelo prefixo do c\u00f3digo (identificador do munic\u00edpio).\n\n\n\n\n\n\nEvitar caracteres visualmente confusos (por ex. \"0\" e \"O\" ou \"1\" e \"l\").\n\n\n\n\n\n\nSer expresso com pontua\u00e7\u00e3o facultativa, para que o usu\u00e1rio humano memorize mais facilmente em grupos de 2 a 4 caracteres.\n\n\n\n\n\n\nEvitar a forma\u00e7\u00e3o de fonemas (portanto evitar o uso de vogais mais frequentes) para que n\u00e3o sejam confundidos com palavras curtas (2 a 4 letras) do vocabul\u00e1rio da lingua portuguesa do Brasil (VOLP ou similar sem nomes pr\u00f3prios).\n\n\n\n\n\n\nO c\u00f3digo de um local deve ser gerado de forma determin\u00edstica, n\u00e3o exigindo nenhuma configura\u00e7\u00e3o ou aplica\u00e7\u00e3o\n\n\n\n\n\n\nO software que gera o c\u00f3digo a partir da latitude/longitude deve ser leve o suficiente para estar numa p\u00e1gina Web ou num aplicativo de smarthfone, e deve funcionar offline.  ... Os c\u00f3digos devem poder ser gerados e decodificados offline. Redes de dados m\u00f3veis podem n\u00e3o ser onipresentes ou baratas\n\n\n\n\n\n\nOs c\u00f3digos n\u00e3o devem depender de nenhum fornecedor, de modo que n\u00e3o haja risco de que eles parem de funcionar se uma empresa ou site sair do ar.\n\n\n\n\n\n\nAlgoritmo de tradu\u00e7\u00e3o do CLP\n\n\nUm algoritmo de tradu\u00e7\u00e3o transforma o CLP-coordenada em uma Geo URI. \nCrit\u00e9rios eliminat\u00f3rios\n para a sele\u00e7\u00e3o de algoritmos de refer\u00eancia:\n\n\n\n\n\n\nApresentar um algoritmo de fun\u00e7\u00e3o inversa, \nde convers\u00e3o\n, aceito sem restri\u00e7\u00f5es.\n\n\n\n\n\n\nEstar tamb\u00e9m publicado h\u00e1 mais de 1 ano e ter sido testado por uma comunidade ampla de usu\u00e1rios.\n\n\n\n\n\n\nN\u00e3o pode ter perda injustificada de precis\u00e3o, ou restri\u00e7\u00f5es para fornecer resultados no padr\u00e3o Geo URI.\n\n\n\n\n\n\nApresentar licen\u00e7a livre (senso \nOpenDefinition\n) e n\u00e3o depender de bases de dados n\u00e3o-livres ou mecanismos adicionais patenteados.\n\n\n\n\n\n\n\n\n((em constru\u00e7\u00e3o))", 
            "title": "CLP-coord"
        }, 
        {
            "location": "/spec02-coord/#caracteristicas-prefixadas", 
            "text": "Apesar dos algorimos e suas variantes proporcionarem certa liberdade de escolha, as seguintes caracter\u00edsticas de um  CLP-coordenada foram previamente fixadas:   prefixo hier\u00e1rquico do c\u00f3digo CLP, at\u00e9  abbrev3 : definido conforme a  especifica\u00e7\u00e3o .  grade e cobertua dos pol\u00edgonos de  macrocells : ser\u00e3o recomendados algoritmos e metodologias gerais, para todos os munic\u00edpios.", 
            "title": "Caracter\u00edsticas prefixadas"
        }, 
        {
            "location": "/spec02-coord/#conversao-para-prefixo", 
            "text": "O algoritmo de convers\u00e3o que transforma dados da Geo URI em  prefixo de c\u00f3digo CLP-coordenada  \u00e9 definido  a priori , deve ser entendido como um passo intermedi\u00e1rio, antes da convers\u00e3o final, que gera o sufixo atrav\u00e9s de um  algoritmo de convers\u00e3o para CLP .  ...   ENTRADA: Geo URI e contexto.  SA\u00cdDA: Geo URI, prefixo e metadados da macroc\u00e9lula.   Cabe em \u00faltima an\u00e1lise \u00e0 autoridade local (ex. prefeitura) e \u00e0 autoridade normativa (ex. IBGE ou SINTER) negociarem qual ser\u00e1 a grade macroc\u00e9lulas. Um algoritmo complementar apenas sugere uma poss\u00edvel parti\u00e7\u00e3o do territ\u00f3rio municipal em zero, 32 ou 1024 macroc\u00e9lulas.", 
            "title": "Convers\u00e3o para prefixo"
        }, 
        {
            "location": "/spec02-coord/#conversao-para-clp", 
            "text": "Um algoritmo de convers\u00e3o transforma dados da Geo URI em c\u00f3digo CLP-coordenada.   ENTRADA: Geo URI, contexto normalizado e macroc\u00e9lula. (proveniente da  convers\u00e3o de prefixo )  SA\u00cdDA: c\u00f3digo CLP definido pelo pr\u00f3prio algoritmo, e satisfazendo os crit\u00e9rios abaixo.   Crit\u00e9rios eliminat\u00f3rios  para a sele\u00e7\u00e3o de algoritmos de refer\u00eancia:    Ser consistente com a classifica\u00e7\u00e3o de  Grade Discreta Global  (do ingl\u00eas  Hierarchical DGG ), de modo que o lugar  identificado pelo CLP-coordenada seria uma c\u00e9lula da DGG proposta pelo algoritmo.    Estar publicado h\u00e1 mais de 1 ano e ter sido testado por uma comunidade ampla de usu\u00e1rios.    N\u00e3o pode ter perda injustificada de funcionalidade, ou performance inferior aos  algoritmos ing\u00eanuos .    Apresentar licen\u00e7a livre (senso  OpenDefinition ) e n\u00e3o depender de bases de dados n\u00e3o-livres (com copyright como o CEP) ou mecanismos adicionais patenteados (ex. restri\u00e7\u00f5es para o uso em QR Code).    Crit\u00e9rios e requisitos classificat\u00f3rios  para que os  c\u00f3digos de sufixo  gerados por dois algoritmos possam ser comparados.    Ser curto o suficiente para que possa ser memorizado pelo usu\u00e1rio humano.    Ser auto-suficiente, n\u00e3o exigindo informa\u00e7\u00f5es adicionais al\u00e9m daquelas j\u00e1 fornecidas pelo prefixo do c\u00f3digo (identificador do munic\u00edpio).    Evitar caracteres visualmente confusos (por ex. \"0\" e \"O\" ou \"1\" e \"l\").    Ser expresso com pontua\u00e7\u00e3o facultativa, para que o usu\u00e1rio humano memorize mais facilmente em grupos de 2 a 4 caracteres.    Evitar a forma\u00e7\u00e3o de fonemas (portanto evitar o uso de vogais mais frequentes) para que n\u00e3o sejam confundidos com palavras curtas (2 a 4 letras) do vocabul\u00e1rio da lingua portuguesa do Brasil (VOLP ou similar sem nomes pr\u00f3prios).    O c\u00f3digo de um local deve ser gerado de forma determin\u00edstica, n\u00e3o exigindo nenhuma configura\u00e7\u00e3o ou aplica\u00e7\u00e3o    O software que gera o c\u00f3digo a partir da latitude/longitude deve ser leve o suficiente para estar numa p\u00e1gina Web ou num aplicativo de smarthfone, e deve funcionar offline.  ... Os c\u00f3digos devem poder ser gerados e decodificados offline. Redes de dados m\u00f3veis podem n\u00e3o ser onipresentes ou baratas    Os c\u00f3digos n\u00e3o devem depender de nenhum fornecedor, de modo que n\u00e3o haja risco de que eles parem de funcionar se uma empresa ou site sair do ar.", 
            "title": "Convers\u00e3o para CLP"
        }, 
        {
            "location": "/spec02-coord/#algoritmo-de-traducao-do-clp", 
            "text": "Um algoritmo de tradu\u00e7\u00e3o transforma o CLP-coordenada em uma Geo URI.  Crit\u00e9rios eliminat\u00f3rios  para a sele\u00e7\u00e3o de algoritmos de refer\u00eancia:    Apresentar um algoritmo de fun\u00e7\u00e3o inversa,  de convers\u00e3o , aceito sem restri\u00e7\u00f5es.    Estar tamb\u00e9m publicado h\u00e1 mais de 1 ano e ter sido testado por uma comunidade ampla de usu\u00e1rios.    N\u00e3o pode ter perda injustificada de precis\u00e3o, ou restri\u00e7\u00f5es para fornecer resultados no padr\u00e3o Geo URI.    Apresentar licen\u00e7a livre (senso  OpenDefinition ) e n\u00e3o depender de bases de dados n\u00e3o-livres ou mecanismos adicionais patenteados.     ((em constru\u00e7\u00e3o))", 
            "title": "Algoritmo de tradu\u00e7\u00e3o do CLP"
        }, 
        {
            "location": "/spec03-via/", 
            "text": "((em constru\u00e7\u00e3o))\n\n\nCaracter\u00edsticas prefixadas\n\n\nApesar dos algorimos e suas variantes proporcionarem certa liberdade de escolha, as seguintes caracter\u00edsticas de um  CLP-coordenada foram previamente fixadas:\n\n\n\n\nprefixo hier\u00e1rquico do c\u00f3digo CLP, at\u00e9 \nabbrev3\n: definido conforme a \nespecifica\u00e7\u00e3o\n.\n\n\n\n\nDispensa o uso de  \nmacrocells\n...\n\n\nCLT baseado na via\n\n\nC\u00f3digo Localizador de Port\u00e3o baseado no \nidentificador da via\n e na \"localiza\u00e7\u00e3o sobre a via\" (do ponto de acesso ao port\u00e3o). Faz uso dos seguintes crit\u00e9rios e padromoza\u00e7\u00f5es:\n\n Usar m\u00e9todos conhecidos de localiza\u00e7\u00e3o;\n\n Conhecer a malha vi\u00e1ria (com o Openstreetmap) e identific\u00e1-la;\n\n Comunicar os maiores interessados \n os produtores rurais e demais habitantes da regi\u00e3o;\n\n Divulgar e revisar os mapas b\u00e1sicos, batizando vias com c\u00f3digos oficiais quando preciso;\n* Fazer ajustes finos nas informa\u00e7\u00f5es oficiais, e tornando-as bancos de dados p\u00fablicos.\n\n\n\n\nExemplos de C\u00f3digo de Localiza\u00e7\u00e3o de Port\u00e3o no meio rural:\n\n\n\n\n\n\nUma estrada municipal com identificador oficial j\u00e1 destacado pelo OpenStreetMap: \nPIR-033/260\n. A numera\u00e7\u00e3o CLP ser\u00e1 provavelmente a mesma por\u00e9m sem separadores, \nPIR-033260\n. Ver ilustra\u00e7\u00e3o [ipplap2017] abaixo nas Refer\u00eancias.\n\n\n\n\n\n\nUma fazenda com porteira pr\u00f3xima \u00e0 estrada: \nponto no Openstreetmap\n.  N\u00e3o precisa ser exato, vale a proje\u00e7\u00e3o do ponto sobre a linha da estrada. Se a porteira da fazenda estivesse a 12,3 km do marco-zero da estrada, o endere\u00e7o CLP oficial seria  \nPIR-033260-12300\n.\n\n\n\n\n\n\nNOTA:  o nome \"CLP\" \u00e9 um apelido gen\u00e9rico, para discutir o assunto na comunidade OSM e em outros Estados, iniciativa do governo de SP provavelmente adotar\u00e1 outro nome.\n\n\nSolu\u00e7\u00f5es preliminares\n\n\nO cidad\u00e3o do meio rural n\u00e3o ficou de bra\u00e7os cruzados, algumas iniciativas se concretizaram e demonstraram que h\u00e1 uma imensa demanda:\n\n\n\n\n\n\nGPS Caipira\n, em uso por prefeituras, pol\u00edcia, SUS e hospitais de pequenas cidades de SP. Confira nos v\u00eddeos: \nMP4 - v\u00eddeo\n, \nMP4 - v\u00eddeo\n.  A amplia\u00e7\u00e3o da iniciativa esbarra nos protocolos de comunica\u00e7\u00e3o adotados, que n\u00e3o s\u00e3o totalmente abertos.\n\n\n\n\n\n\nCEP Rural\n: algumas cidades como Botucatu, implementaram o \"Programa Acessibilidade Rural\".\n\n\n\n\n\n\nA principal cr\u00edtica a essas iniciativas \u00e9 a \ndemanda por uma autoridade central\n e o envolvimento de entidades privadas no controle do sistema. Estas solu\u00e7\u00f5es n\u00e3o seriam perdidas e teriam na transi\u00e7\u00e3o para o CLP a garantia de uniformiza\u00e7\u00e3o com o restante do Estado de SP.\n\n\nImplementa\u00e7\u00e3o\n\n\nImplementar um \"conversor de CLP em ponto no mapa\" \u00e9 relativamente simples com as tecnologias dispon\u00edveis em dom\u00ednio p\u00fablico. Um prot\u00f3tipo de redirecionamento de c\u00f3digos rodando com NGINX e PostgreSQL foi utilizado como prova de conceito.\n\n\nUm sistema completo,  todavia, que garanta a utiliza\u00e7\u00e3o em todas as cidades, por longo prazo, e operando com todos os tipos de localidade rural, requer diversos cuidados. Preserva\u00e7\u00e3o digital, abertura de dados, consist\u00eancia das normas, consist\u00eancia e viabilidade de tradu\u00e7\u00e3o das normas para algoritmos (software) eficientes, e outros.\n\n\nElementos metodol\u00f3gicos e jur\u00eddicos\n\n\nO nome ou n\u00famero oficial identificador do munic\u00edpio, normatizados pelo IBGE, se apresentam como padr\u00e3o oficial est\u00e1vel e amplamente utilizado.  J\u00e1 a   abrevia\u00e7\u00e3o de nome de cidade por c\u00f3digo de 3 letras, ainda pouco conhecida mesmo entre as autoridades governamentais, ser\u00e1 t\u00e3o est\u00e1vel quanto o grau de obrigatoriedade do seu uso: uma vez publicada como tabela de-para oficial em lei ou decreto estadual \n tabela anexa \"de abrevia\u00e7\u00e3o para identificador IBGE\" \n, n\u00e3o correr\u00e1 mais risco de instabilidade.\n\n\nAnalogamente o  n\u00famero oficial identificador da via, o seu marco zero e a refer\u00eancia oficial de mapeamento e metragem da via: sem clareza e estabilidade nas conven\u00e7\u00f5es oficiais n\u00e3o haver\u00e1 incentivo ou motiva\u00e7\u00e3o racional para o uso do CLP. Por exemplo o propriet\u00e1rio n\u00e3o vai investir em uma placa na sua porteira, a prefeitura n\u00e3o vai investir na divulga\u00e7\u00e3o de endere\u00e7os, o corpo de bombeiros e hospitais n\u00e3o ir\u00e3o investir nos aplicativos de georeferenciamento dos endere\u00e7os, etc.\n\n\nN\u00e3o \u00e9 t\u00e3o simples, diversos detalhes precisam ser adequados \u00e0s necessidades de abertura, transpar\u00eancia e operacionalidade:\n\n\n\n\n\n\nO processo de \"batismo oficial\" das vias com respectivos identificadores precisa ser norteado por regras, ser transparente e descentralizado. Hoje apenas autoridades federais e estaduais possuem essa clareza de regras e acesso a meios t\u00e9cnicos. A descentraliza\u00e7\u00e3o inclui liberdade de usar ferramentas como o OpenStreetMap para que os munic\u00edpios tenham autonomia. \nMesmo  sendo normatizados num momento posterior, as normas de rotula\u00e7\u00e3o devem prever desde o in\u00edcio a exist\u00eancia dessas vias, garantindo \"reserva de numera\u00e7\u00e3o\" para elas.\n\n\n\n\n\n\nVias dentro de grandes propriedades (ex. condom\u00ednios e fazendas) possuem como \"autoridade de batismo\" o propriet\u00e1rio ou coletivos formais de propriet\u00e1rios, ou ainda cooperativas. Esse tipo de identificador deve tamb\u00e9m ser contemplado pelo processo de normatiza\u00e7\u00e3o, para garantir ampla ader\u00eancia \u00e0 malha vi\u00e1ria real,  onde nasce a demanda por endere\u00e7amento.\n\n\n\n\n\n\nO processo de \"mapeamento digital oficial\" precisa prever a exist\u00eancia de \nmetodologias\n baseadas no uso de ferramentas abertas (\nlicen\u00e7as OpenDefinitoin\n), tais como as ferramentas de mapeamento digital do OpenStreetMap e cadastramento de dados estruturados na Wikidata.\n\n\n\n\n\n\nAs licen\u00e7as de dados, tanto dados cadastrais como mapas digitais, precisa ser idealmente \nCC0\n, ou seja, o dado precisa estar dedicado ao dom\u00ednio p\u00fablico, sem qualquer tipo de retri\u00e7\u00e3o \n tal como um mapa anexado \u00e0 Lei Org\u00e2nica do  munic\u00edpio. Quando isso n\u00e3o for poss\u00edvel o m\u00e1ximo de restri\u00e7\u00e3o que se pode admitir \u00e9 a Licen\u00e7a de Banco de Dados Aberto Open Data Commons, \nODbL\n. \nEventualmente estrat\u00e9gias de \nliceamento dual\n para dados esopec\u00edficos podem tamb\u00e9m ajudar o munic\u00edpio a contornar problemas jur\u00eddicos.\n\n\n\n\n\n\nBatismo informal compat\u00edvel com o batismo oficial: quando da indisponibilidade de c\u00f3digo oficial de uma via, as \"regras de batismo\" devem ser suficientemente claras e independentes da autoridade central para que a via possa receber seu identificador pela prefeitura ou comunidade de interesse no Openstreetmap sem maiores riscos de mudan\u00e7a no momento futuro da oficializa\u00e7\u00e3o. A exemplo do  \"normas de batismo de via\" n\u00e3o podem ser ref\u00e9ns de uma autoridade central.\n\n\n\n\n\n\nRefer\u00eancia em mapas oficiais quando poss\u00edvel (por exemplo mapas de munic\u00edpios fornecidos pelo IBGE), convencionando como segunda op\u00e7\u00e3o, quando da indisponibilidade de mapas oficiais adequados, uma vers\u00e3o est\u00e1vel homologada do Openstreetmap. Regras objetivas e transparentes permitiram que a refer\u00eancia m\u00e9trica n\u00e3o seja colocada em risco quando da aus\u00eancia de um  mapa oficial.\n\n\n\n\n\n\nSubs\u00eddios t\u00e9cnicos\n\n\nDados abertos, est\u00e1veis e confi\u00e1veis s\u00e3o o lastro do CLP. Esses dados s\u00e3o obtidos de projetos mais especializados:\n\n\n\n\n\n\nIdentificadores persistentes\n no Openstreetmap, baseados na \ntag Wikidata\n, atribuida a estados, cidades e vias. \n O projeto de preserva\u00e7\u00e3o digital,  \nsemantic-bridge\n ajuda a garantir a \"eternidade\" dos identificadores e da sua resolu\u00e7\u00e3o no Openstreetmap. Nada ser\u00e1 perdido, e poderemos dar garantia de d\u00e9cadas!\n\n\n\n\n\n\nAbrevia\u00e7\u00f5es de nome de estado (2 letras) e \nnome de cidade (3 letras)\n, com respectivos \nmapas digitais est\u00e1veis\n, tamb\u00e9m garantidos por projetos de preserva\u00e7\u00e3o: \nsemantic-bridge\n, \ndatasets-br/state-codes\n e \ndatasets-br/city-codes\n.\n\n\n\n\n\n\nEm seguida a implementa\u00e7\u00e3o deve contar com dois recursos fundamentais de refer\u00eancia de dados e padroniza\u00e7\u00e3o nos protocolos e algoritmos:\n\n\n\n\n\n\nIdentificadores e metadados de apoio: \nWikidata\n. Todas as entidades geogr\u00e1ficas envolvidas na representa\u00e7\u00e3o CLP s\u00e3o pass\u00edveis de identifica\u00e7\u00e3o persistente e georreferenciamento a partir da \nkey:wikidata\n no Openstreetmap, e sua identifica\u00e7\u00e3o rec\u00edproca atrav\u00e9s da \npropriedade \nP402\n Wikidata.\n\n\n\n\n\n\nAlgoritmos \nPostGIS\n para a infer\u00eancia m\u00e9trica  e controle de qualidade baseado. Fun\u00e7\u00f5es tais como \nST_ClosestPoint\n, \nST_LineLocatePoint\n e \nST_Line_Interpolate_Point\n. Em caso de numera\u00e7\u00e3o oficial fornecida em pontos espec\u00edficos, pode-se optar por parametriza\u00e7\u00e3o baseada em regress\u00e3o linear, para ajuste fino relativo \u00e0s medidas de campo.   \n\n\n\n\n\n\nAlgoritmos SparQL e SQL para consolida\u00e7\u00e3o dos dados junto \u00e0 Wikidata. Por exemplo o conceito de \"Estado de S\u00e3o Paulo\" na Wikidata \u00e9  \nQ175\n, o conceito de Piracicaba \u00e9  \nQ330175\n, de \"Rodovia BR-116\" \u00e9 \nQ2739838\n... Todos com respectivos dados de localiza\u00e7\u00e3o no Openstreetmap (\nP402\n).\n\n\n\n\n\n\nSubs\u00eddios sociais\n\n\nO primeiro passo para se ter e discutir a qualidade das informa\u00e7\u00f5es \u00e9 a libera\u00e7\u00e3o em dom\u00ednio p\u00fablico, com a publica\u00e7\u00e3o sob licen\u00e7a aberta, por parte do governo local (SP, DER ou munic\u00edpio), das planilhas e mapas digitais. Conforme o dado ele ser\u00e1 ent\u00e3o consolidado e tornado mais acess\u00edvel atrav\u00e9s das plataformas Wikidata e Openstreetmap. A comunidade dessas plataformas \u00e9 a maior do mundo, com milh\u00f5es de usu\u00e1rios, e tem centenas de cidad\u00e3os brasileiros participando.\n\n\nJ\u00e1 existem inclusive prefeituras, tais como Monteiro Lobato e Jaragu\u00e1 do Sul, que fazendo uso integral do Openstreetmap, como base de dados oficial do munic\u00edpio. A utiliza\u00e7\u00e3o conjunta por parte da sociedade e do governo \u00e9 vi\u00e1vel e tem sido adotada como principal meta: enquanto dados da escala federal e estadual s\u00e3o mantidos por agentes do governo tais como IBGE (federal) e Secretarias (estadual), os munic\u00edpios atrav\u00e9s das suas secretarias locais e os condom\u00ednios, associa\u00e7\u00f5es, cooperativas complementam e auditam os dados mais locais.\n\n\nNo Openstreetmap j\u00e1 existe um grande percentual da malha vi\u00e1ria do estado de SP, mas muitas vias ainda carecem de um identificador oficial. O maior trabalho, tanto em termos de auditoria como de cadastro e consolidal\u00e7\u00e3o de dados, ser\u00e1 em torno da complementa\u00e7\u00e3o dos identificadores, seguindo o modelo j\u00e1 de sucesso para a auditoria e preserva\u00e7\u00e3o digitais com os reposit\u00f3rios  \ndatasets.ok.org.br/state-codes\n e \ndatasets.ok.org.br/city-codes\n.\n\n\nRefer\u00eancias\n\n\n\n\nmapa \nipplap2017\n\n\n\n\n \n \n\n\n\n\nConte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m \nCr\u00e9ditos das imagens\n.", 
            "title": "CLP-via"
        }, 
        {
            "location": "/spec03-via/#caracteristicas-prefixadas", 
            "text": "Apesar dos algorimos e suas variantes proporcionarem certa liberdade de escolha, as seguintes caracter\u00edsticas de um  CLP-coordenada foram previamente fixadas:   prefixo hier\u00e1rquico do c\u00f3digo CLP, at\u00e9  abbrev3 : definido conforme a  especifica\u00e7\u00e3o .   Dispensa o uso de   macrocells ...", 
            "title": "Caracter\u00edsticas prefixadas"
        }, 
        {
            "location": "/spec03-via/#clt-baseado-na-via", 
            "text": "C\u00f3digo Localizador de Port\u00e3o baseado no  identificador da via  e na \"localiza\u00e7\u00e3o sobre a via\" (do ponto de acesso ao port\u00e3o). Faz uso dos seguintes crit\u00e9rios e padromoza\u00e7\u00f5es:  Usar m\u00e9todos conhecidos de localiza\u00e7\u00e3o;  Conhecer a malha vi\u00e1ria (com o Openstreetmap) e identific\u00e1-la;  Comunicar os maiores interessados   os produtores rurais e demais habitantes da regi\u00e3o;  Divulgar e revisar os mapas b\u00e1sicos, batizando vias com c\u00f3digos oficiais quando preciso;\n* Fazer ajustes finos nas informa\u00e7\u00f5es oficiais, e tornando-as bancos de dados p\u00fablicos.   Exemplos de C\u00f3digo de Localiza\u00e7\u00e3o de Port\u00e3o no meio rural:    Uma estrada municipal com identificador oficial j\u00e1 destacado pelo OpenStreetMap:  PIR-033/260 . A numera\u00e7\u00e3o CLP ser\u00e1 provavelmente a mesma por\u00e9m sem separadores,  PIR-033260 . Ver ilustra\u00e7\u00e3o [ipplap2017] abaixo nas Refer\u00eancias.    Uma fazenda com porteira pr\u00f3xima \u00e0 estrada:  ponto no Openstreetmap .  N\u00e3o precisa ser exato, vale a proje\u00e7\u00e3o do ponto sobre a linha da estrada. Se a porteira da fazenda estivesse a 12,3 km do marco-zero da estrada, o endere\u00e7o CLP oficial seria   PIR-033260-12300 .    NOTA:  o nome \"CLP\" \u00e9 um apelido gen\u00e9rico, para discutir o assunto na comunidade OSM e em outros Estados, iniciativa do governo de SP provavelmente adotar\u00e1 outro nome.", 
            "title": "CLT baseado na via"
        }, 
        {
            "location": "/spec03-via/#solucoes-preliminares", 
            "text": "O cidad\u00e3o do meio rural n\u00e3o ficou de bra\u00e7os cruzados, algumas iniciativas se concretizaram e demonstraram que h\u00e1 uma imensa demanda:    GPS Caipira , em uso por prefeituras, pol\u00edcia, SUS e hospitais de pequenas cidades de SP. Confira nos v\u00eddeos:  MP4 - v\u00eddeo ,  MP4 - v\u00eddeo .  A amplia\u00e7\u00e3o da iniciativa esbarra nos protocolos de comunica\u00e7\u00e3o adotados, que n\u00e3o s\u00e3o totalmente abertos.    CEP Rural : algumas cidades como Botucatu, implementaram o \"Programa Acessibilidade Rural\".    A principal cr\u00edtica a essas iniciativas \u00e9 a  demanda por uma autoridade central  e o envolvimento de entidades privadas no controle do sistema. Estas solu\u00e7\u00f5es n\u00e3o seriam perdidas e teriam na transi\u00e7\u00e3o para o CLP a garantia de uniformiza\u00e7\u00e3o com o restante do Estado de SP.", 
            "title": "Solu\u00e7\u00f5es preliminares"
        }, 
        {
            "location": "/spec03-via/#implementacao", 
            "text": "Implementar um \"conversor de CLP em ponto no mapa\" \u00e9 relativamente simples com as tecnologias dispon\u00edveis em dom\u00ednio p\u00fablico. Um prot\u00f3tipo de redirecionamento de c\u00f3digos rodando com NGINX e PostgreSQL foi utilizado como prova de conceito.  Um sistema completo,  todavia, que garanta a utiliza\u00e7\u00e3o em todas as cidades, por longo prazo, e operando com todos os tipos de localidade rural, requer diversos cuidados. Preserva\u00e7\u00e3o digital, abertura de dados, consist\u00eancia das normas, consist\u00eancia e viabilidade de tradu\u00e7\u00e3o das normas para algoritmos (software) eficientes, e outros.", 
            "title": "Implementa\u00e7\u00e3o"
        }, 
        {
            "location": "/spec03-via/#elementos-metodologicos-e-juridicos", 
            "text": "O nome ou n\u00famero oficial identificador do munic\u00edpio, normatizados pelo IBGE, se apresentam como padr\u00e3o oficial est\u00e1vel e amplamente utilizado.  J\u00e1 a   abrevia\u00e7\u00e3o de nome de cidade por c\u00f3digo de 3 letras, ainda pouco conhecida mesmo entre as autoridades governamentais, ser\u00e1 t\u00e3o est\u00e1vel quanto o grau de obrigatoriedade do seu uso: uma vez publicada como tabela de-para oficial em lei ou decreto estadual   tabela anexa \"de abrevia\u00e7\u00e3o para identificador IBGE\"  , n\u00e3o correr\u00e1 mais risco de instabilidade.  Analogamente o  n\u00famero oficial identificador da via, o seu marco zero e a refer\u00eancia oficial de mapeamento e metragem da via: sem clareza e estabilidade nas conven\u00e7\u00f5es oficiais n\u00e3o haver\u00e1 incentivo ou motiva\u00e7\u00e3o racional para o uso do CLP. Por exemplo o propriet\u00e1rio n\u00e3o vai investir em uma placa na sua porteira, a prefeitura n\u00e3o vai investir na divulga\u00e7\u00e3o de endere\u00e7os, o corpo de bombeiros e hospitais n\u00e3o ir\u00e3o investir nos aplicativos de georeferenciamento dos endere\u00e7os, etc.  N\u00e3o \u00e9 t\u00e3o simples, diversos detalhes precisam ser adequados \u00e0s necessidades de abertura, transpar\u00eancia e operacionalidade:    O processo de \"batismo oficial\" das vias com respectivos identificadores precisa ser norteado por regras, ser transparente e descentralizado. Hoje apenas autoridades federais e estaduais possuem essa clareza de regras e acesso a meios t\u00e9cnicos. A descentraliza\u00e7\u00e3o inclui liberdade de usar ferramentas como o OpenStreetMap para que os munic\u00edpios tenham autonomia.  Mesmo  sendo normatizados num momento posterior, as normas de rotula\u00e7\u00e3o devem prever desde o in\u00edcio a exist\u00eancia dessas vias, garantindo \"reserva de numera\u00e7\u00e3o\" para elas.    Vias dentro de grandes propriedades (ex. condom\u00ednios e fazendas) possuem como \"autoridade de batismo\" o propriet\u00e1rio ou coletivos formais de propriet\u00e1rios, ou ainda cooperativas. Esse tipo de identificador deve tamb\u00e9m ser contemplado pelo processo de normatiza\u00e7\u00e3o, para garantir ampla ader\u00eancia \u00e0 malha vi\u00e1ria real,  onde nasce a demanda por endere\u00e7amento.    O processo de \"mapeamento digital oficial\" precisa prever a exist\u00eancia de  metodologias  baseadas no uso de ferramentas abertas ( licen\u00e7as OpenDefinitoin ), tais como as ferramentas de mapeamento digital do OpenStreetMap e cadastramento de dados estruturados na Wikidata.    As licen\u00e7as de dados, tanto dados cadastrais como mapas digitais, precisa ser idealmente  CC0 , ou seja, o dado precisa estar dedicado ao dom\u00ednio p\u00fablico, sem qualquer tipo de retri\u00e7\u00e3o   tal como um mapa anexado \u00e0 Lei Org\u00e2nica do  munic\u00edpio. Quando isso n\u00e3o for poss\u00edvel o m\u00e1ximo de restri\u00e7\u00e3o que se pode admitir \u00e9 a Licen\u00e7a de Banco de Dados Aberto Open Data Commons,  ODbL .  Eventualmente estrat\u00e9gias de  liceamento dual  para dados esopec\u00edficos podem tamb\u00e9m ajudar o munic\u00edpio a contornar problemas jur\u00eddicos.    Batismo informal compat\u00edvel com o batismo oficial: quando da indisponibilidade de c\u00f3digo oficial de uma via, as \"regras de batismo\" devem ser suficientemente claras e independentes da autoridade central para que a via possa receber seu identificador pela prefeitura ou comunidade de interesse no Openstreetmap sem maiores riscos de mudan\u00e7a no momento futuro da oficializa\u00e7\u00e3o. A exemplo do  \"normas de batismo de via\" n\u00e3o podem ser ref\u00e9ns de uma autoridade central.    Refer\u00eancia em mapas oficiais quando poss\u00edvel (por exemplo mapas de munic\u00edpios fornecidos pelo IBGE), convencionando como segunda op\u00e7\u00e3o, quando da indisponibilidade de mapas oficiais adequados, uma vers\u00e3o est\u00e1vel homologada do Openstreetmap. Regras objetivas e transparentes permitiram que a refer\u00eancia m\u00e9trica n\u00e3o seja colocada em risco quando da aus\u00eancia de um  mapa oficial.", 
            "title": "Elementos metodol\u00f3gicos e jur\u00eddicos"
        }, 
        {
            "location": "/spec03-via/#subsidios-tecnicos", 
            "text": "Dados abertos, est\u00e1veis e confi\u00e1veis s\u00e3o o lastro do CLP. Esses dados s\u00e3o obtidos de projetos mais especializados:    Identificadores persistentes  no Openstreetmap, baseados na  tag Wikidata , atribuida a estados, cidades e vias.   O projeto de preserva\u00e7\u00e3o digital,   semantic-bridge  ajuda a garantir a \"eternidade\" dos identificadores e da sua resolu\u00e7\u00e3o no Openstreetmap. Nada ser\u00e1 perdido, e poderemos dar garantia de d\u00e9cadas!    Abrevia\u00e7\u00f5es de nome de estado (2 letras) e  nome de cidade (3 letras) , com respectivos  mapas digitais est\u00e1veis , tamb\u00e9m garantidos por projetos de preserva\u00e7\u00e3o:  semantic-bridge ,  datasets-br/state-codes  e  datasets-br/city-codes .    Em seguida a implementa\u00e7\u00e3o deve contar com dois recursos fundamentais de refer\u00eancia de dados e padroniza\u00e7\u00e3o nos protocolos e algoritmos:    Identificadores e metadados de apoio:  Wikidata . Todas as entidades geogr\u00e1ficas envolvidas na representa\u00e7\u00e3o CLP s\u00e3o pass\u00edveis de identifica\u00e7\u00e3o persistente e georreferenciamento a partir da  key:wikidata  no Openstreetmap, e sua identifica\u00e7\u00e3o rec\u00edproca atrav\u00e9s da  propriedade  P402  Wikidata.    Algoritmos  PostGIS  para a infer\u00eancia m\u00e9trica  e controle de qualidade baseado. Fun\u00e7\u00f5es tais como  ST_ClosestPoint ,  ST_LineLocatePoint  e  ST_Line_Interpolate_Point . Em caso de numera\u00e7\u00e3o oficial fornecida em pontos espec\u00edficos, pode-se optar por parametriza\u00e7\u00e3o baseada em regress\u00e3o linear, para ajuste fino relativo \u00e0s medidas de campo.       Algoritmos SparQL e SQL para consolida\u00e7\u00e3o dos dados junto \u00e0 Wikidata. Por exemplo o conceito de \"Estado de S\u00e3o Paulo\" na Wikidata \u00e9   Q175 , o conceito de Piracicaba \u00e9   Q330175 , de \"Rodovia BR-116\" \u00e9  Q2739838 ... Todos com respectivos dados de localiza\u00e7\u00e3o no Openstreetmap ( P402 ).", 
            "title": "Subs\u00eddios t\u00e9cnicos"
        }, 
        {
            "location": "/spec03-via/#subsidios-sociais", 
            "text": "O primeiro passo para se ter e discutir a qualidade das informa\u00e7\u00f5es \u00e9 a libera\u00e7\u00e3o em dom\u00ednio p\u00fablico, com a publica\u00e7\u00e3o sob licen\u00e7a aberta, por parte do governo local (SP, DER ou munic\u00edpio), das planilhas e mapas digitais. Conforme o dado ele ser\u00e1 ent\u00e3o consolidado e tornado mais acess\u00edvel atrav\u00e9s das plataformas Wikidata e Openstreetmap. A comunidade dessas plataformas \u00e9 a maior do mundo, com milh\u00f5es de usu\u00e1rios, e tem centenas de cidad\u00e3os brasileiros participando.  J\u00e1 existem inclusive prefeituras, tais como Monteiro Lobato e Jaragu\u00e1 do Sul, que fazendo uso integral do Openstreetmap, como base de dados oficial do munic\u00edpio. A utiliza\u00e7\u00e3o conjunta por parte da sociedade e do governo \u00e9 vi\u00e1vel e tem sido adotada como principal meta: enquanto dados da escala federal e estadual s\u00e3o mantidos por agentes do governo tais como IBGE (federal) e Secretarias (estadual), os munic\u00edpios atrav\u00e9s das suas secretarias locais e os condom\u00ednios, associa\u00e7\u00f5es, cooperativas complementam e auditam os dados mais locais.  No Openstreetmap j\u00e1 existe um grande percentual da malha vi\u00e1ria do estado de SP, mas muitas vias ainda carecem de um identificador oficial. O maior trabalho, tanto em termos de auditoria como de cadastro e consolidal\u00e7\u00e3o de dados, ser\u00e1 em torno da complementa\u00e7\u00e3o dos identificadores, seguindo o modelo j\u00e1 de sucesso para a auditoria e preserva\u00e7\u00e3o digitais com os reposit\u00f3rios   datasets.ok.org.br/state-codes  e  datasets.ok.org.br/city-codes .", 
            "title": "Subs\u00eddios sociais"
        }, 
        {
            "location": "/spec03-via/#referencias", 
            "text": "mapa  ipplap2017         Conte\u00fados e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico. Ver tamb\u00e9m  Cr\u00e9ditos das imagens .", 
            "title": "Refer\u00eancias"
        }, 
        {
            "location": "/spec04ap01-siglas/", 
            "text": "((em constru\u00e7\u00e3o))\n\n\nSIGLAS BRASILEIRAS\n\n\nAs siglas brasileiras n\u00e3o s\u00e3o apenas um brinquedo, um recurso de linguagem  para encurtar a conversa, enxugar o texto quando o espa\u00e7o \u00e9 reduzido.  Elas fazem parte do vocabul\u00e1rio oficial da L\u00edngua Portuguesa do Brasil e dos padr\u00f5es oficiais de identifica\u00e7\u00e3o.\n\n\nQuem cria a sigla  n\u00e3o \u00e9 o autor de um cat\u00e1logo ou as empresas de busca na Internet...  As siglas dos estados, por exemplo, foram criadas e s\u00e3o mantidas pelo IBGE, existem leis e normas t\u00e9cnicas oficializando o uso nacional, e um tratado internacional com a ISO refor\u00e7ando o uso como c\u00f3digo identificador internacional. Nas siglas de nomes de cidade e c\u00f3digos de rua n\u00e3o \u00e9 muito diferente.\n\n\nA \"autoridade definidora da sigla\" \u00e9 uma autoridade do governo brasileiro. Ainda assim n\u00e3o \u00e9 o governo isolado, a sigla n\u00e3o pega, n\u00e3o se consolida se o governo n\u00e3o a desenvolve buscando consenso, com respeito e com a ajuda dos usu\u00e1rios,  os 200 milh\u00f5es de brasileiros.  Estabelecer as regras e o bom uso dos c\u00f3digos, siglas e abrevia\u00e7\u00f5es oficiais \u00e9 um ato de \nsoberania nacional\n. Podemos confiar nas nossas siglas, e elas s\u00e3o de fato nossas.\n\n\nSiglas de pa\u00eds e estado\n\n\nNa escola aprendemos todas elas: AC \u00e9 Acre, AM \u00e9 Amazonas, ... \u00c9 uma das miss\u00f5es do ensino garantir que o cidad\u00e3o entenda a linguagem oficial, que saiba reconhecer o contexto e designar elementos com simplicidade e sem ambiguidade.\n\n\nA hist\u00f3ria completa das siglas de estado \u00e9 \ndescrita por esta tabela\n. J\u00e1 existiu uma sigla \nGB\n, que entre os brasileiros, at\u00e9 1975, n\u00e3o era Gr\u00e3-Bretanha, designava o antigo Estado da Guanabra. Quem controla isso, garantindo a identifica\u00e7\u00e3o sem ambiguidade e apenas dos elementos vigentes, \u00e9 uma autoridade nacional designada por lei federal: atualmente, e j\u00e1 fazendo algumas d\u00e9cadas, o IBGE.\n\n\nUma vez estabelecidas internamente, as siglas passaram a ser tamb\u00e9m elementos da comunica\u00e7\u00e3o internacional. O Brasil \u00e9 signat\u00e1rio do acordo que d\u00e1 estabilidade e legitimidade ao padr\u00e3o ISO\n3166, e a autoridade do padr\u00e3o \nISO\n3166-2:BR\n.\n\n\nRegra geral\n para uso contextualizado das siglas de pa\u00eds e estado:\n\n\n\n\n\n\nEm contexto internacional usar a sigla completa, ex. \nBR-SP\n.\n\n\n\n\n\n\nEm contexto nacional usar apenas a sigla de estado, \nSP\n.\n\n\n\n\n\n\nQuando houver uma regra consensual (entre as partes) ou oficial na comunica\u00e7\u00e3o, a hierarquia \"pa\u00eds-estado-cidade\" poder\u00e1 ser reduzida para apenas \"cidade\", portanto omitindo a designa\u00e7\u00e3o de estado. \nPor exemplo, ao inv\u00e9s de \nManaus (AM)\n ou \nBR-AM-MNS\n, usar apenas \nManaus\n ou \nMNS\n.\n\n\n\n\n\n\nSigla de 3 letras do munic\u00edpio\n\n\nConsidera\u00e7\u00f5es sobre a padroniza\u00e7\u00e3o das siglas de 3 letras para a identifica\u00e7\u00e3o munic\u00edpios.\nApesar de terem sido propostos e setorialmente adotados alguns padr\u00f5es de codifica\u00e7\u00e3o, eles s\u00e3o incompativeis e distintios.  Os principais s\u00e3o:\n\n\n\n\n\n\nANATEL: uso interno.\n\n\n\n\n\n\nDER - Departamento de Estradas de Rodagem: uso j\u00e1 consolidado em placas e mapas. Conforme o estado h\u00e1 uma autoridade diferente (ex. DER/MG \u00e9 de Minas  Gerais) e grau de uso/maturidade diferente.\n\n\n\n\n\n\nAssembleia de SP: est\u00e1 regulamentando de forma mais ampla o uso das siglas do DER/SP.\n\n\n\n\n\n\nAbaixo uma amostra da lista completa de todas as abrevia\u00e7\u00f5es de municipios de S\u00e3o Paulo:\n\n\n\nAAG (Alto Alegre), AAI (Agua\u00ed), ABR (Am\u00e9rico Brasiliense), ACD (Aparecida), ACP (Am\u00e9rico de Campos), ADD (Andradina), ADF (Adolfo), ADM (Adamantina), ADT (Aparecida d'Oeste), AEI (Areias), AEP (Arei\u00f3polis), AFM (Alfredo Marcondes), AGD (Agudos), AGL (\u00c1guas de Lind\u00f3ia), ...  \n..., PBT (Pereira Barreto), PBU (Pacaembu), PCT (Piacatu), PDB (Pedra Bela), PDD (Piedade), PDH (Pindamonhangaba), PDM (Pindorama), PDN (Pederneiras), PDP (Prad\u00f3polis), PDR (Pedreira), PEP (Pedrinhas Paulista), PFR (Porto Ferreira), PFZ (Porto Feliz), PGA (Porangaba), PGH (Pedregulho), PGI (Pirangi), PGP (Paragua\u00e7u Paulista), PGR (Pitangueiras), PGT (Pontes Gestal), PIR (Piracicaba), PIZ (Pinhalzinho), PLC (Paulic\u00e9ia), PLF (Paulo de Faria), PLN (Paul\u00ednia), PLO (Palmeira d'Oeste), PLP (Palmares Paulista), PLS (Pilar do Sul), PLT (Planalto), PMP (Pomp\u00e9ia), PMT (Palmital), PNG (Pirassununga), PNL (Pedran\u00f3polis), PNP (Pen\u00e1polis), PNR (Panorama), POA (Po\u00e1), POG (Ponga\u00ed), POL (Poloni), PON (Pontal), POT (Potim), PPL (Populina), PPM (Paranapanema), PQA (Pariquera-A\u00e7u), PQB (Piquerobi), PQT (Piquete), PRA (Pracinha), PRB (Peru\u00edbe), PRC (Piracaia), PRD (Pardinho), PRG (Praia Grande), PRI (Piraju\u00ed), PRJ (Piraju), PRN (Paranapu\u00e3), PRP (Parapu\u00e3), PRR (Pereiras), PRS (Para\u00edso), PRT (Prat\u00e2nia), PSA (Presidente Alves), PSB (Presidente Bernardes), ...\n..., UBT (Ubatuba), UCH (Uchoa), UJR (Ubirajara), UNP (Uni\u00e3o Paulista), URN (Ur\u00e2nia), URP (Urup\u00eas), URU (Uru), VAR (Vargem), VAT (Vista Alegre do Alto), VCR (Vera Cruz), VGP (Vargem Grande Paulista), VGS (Vargem Grande do Sul), VLG (Valentim Gentil), VLH (Valinhos), VNH (Vinhedo), VOT (Votorantim), VPS (Valpara\u00edso), VRD (Viradouro), VTB (Vit\u00f3ria Brasil), VTG (Votuporanga), VZP (V\u00e1rzea Paulista), ZAC (Zacarias).\n\n\nQuase hashes\n\n\nO conceito j\u00e1 amplamente estudado e difundido de \nfun\u00e7\u00e3o hash\n ajuda a conceber as \"fun\u00e7\u00f5es sigla\", que convertem um nome qualquer em um c\u00f3digo de 3 letras  que seja percebido (pelo humano) como uma sigla.\n\n\n\n\nEnquanto a fun\u00e7\u00e3o hash \nH(x)\n devolve um n\u00famero diferente para cada nome \nx\n de um conjunto \nX\n, a fun\u00e7\u00e3o sigla \nS(x)\n devolve um c\u00f3digo de letras mnem\u00f4nico (que faz lembrar do nome).\n\n\nOs principais coceitos trazidos da \nteoria das fun\u00e7\u00f5es hash\n s\u00e3o\n\n\n\n\n\n\n\n\nConceito\n\n\ndefini\u00e7\u00e3o no escopo de \nH(x)\n\n\ndefini\u00e7\u00e3o no escopo \nS(x)\n\n\n\n\n\n\n\n\n\n\ncolis\u00e3o\n\n\nQuando d\u00e1 o azar de dois elementos de \nX\n, digamos \nx1\n e \nx2\n, resultarem em \nH(x1)=H(x2)\n.\n\n\nIdem, h\u00e1 colis\u00e3o quando \nS(x1)=S(x2)\n.\n\n\n\n\n\n\ndom\u00edmio\n\n\nConjunto de todos os poss\u00edveis nomes, \nX\n.\n\n\nidem.\n\n\n\n\n\n\ncontra-dom\u00edmio\n\n\nConjunto de todos os poss\u00edveis resultados de \nH(x)\n, conjunto \nC\n.\n\n\nMais espec\u00edfico:  todos os poss\u00edveis resultados de \nS(x)\n s\u00e3o todas as combina\u00e7\u00f5es de 3 letras do alfabeto utilizado por \nX\n.  Se usar 26 letras, teremos \n|C|=26\u00b3=17576\n.\n\n\n\n\n\n\nprobabilidade de colis\u00e3o\n\n\nProblabilidade \nP(H,X)\n em fun\u00e7\u00e3o do n\u00famero do tamanho do contra-dom\u00ednio, \n|C|\n.\n\n\nIdem.\n\n\n\n\n\n\n\n\nEm caso de colis\u00e3o a fun\u00e7\u00e3o hash tradicional, \nH(x)\n, apenas evita repeti\u00e7\u00e3o, enquanto a fun\u00e7\u00e3o sigla segue uma ordem de tentativas, come\u00e7ando pelas tentativas de percep\u00e7\u00e3o \np\n mais amig\u00e1vel (\np=0\n significa zero-pior), e recorrendo depois das colis\u00f5es a valores  \np=1\n, \np=2\n, etc. at\u00e9 um valor \np=N\n pior de fato.   A rigor portanto a fun\u00e7\u00e3o sigla usa tamb\u00e9m \np\n como par\u00e2metro que muda com o n\u00famero de colis\u00f5es, \nS(x,p)\n.\n\n\nO compromisso com a percep\u00e7\u00e3o humana pode demandar um certo refinamento, o que nos obriga a considerar duas classes distintas de fun\u00e7\u00f5es sigla:\n\n\n\n\n\n\nFun\u00e7\u00f5es estat\u00edsticas\n \nS(x,p,Q)\n, mais refinadas: que requerem uma an\u00e1lise pr\u00e9via do conjunto \nX\n para escolher a melhor estrat\u00e9gia. An\u00e1lise de frequ\u00eancia de letras por exemplo \u00e9 um tipo de an\u00e1lise pr\u00e9via. Supondo que o resultado de uma an\u00e1lise seja o conjunto \nQ\n de frequ\u00eancias, desvios ou outros indicadores quantitativos, a  fun\u00e7\u00e3o sigla ser\u00e1 parametrizada por \nS(x,p,Q)\n. Casos de agrupamentos, tais como metaphones, podem ser modelados por \nQ(x)\n. \nNo caso de nomes de munic\u00edpio basta tomar o cuidado de usar apenas estat\u00edsticas v\u00e1lidas para uma perspectiva de d\u00e9cadas, ou seja, usar uma an\u00e1lise estat\u00edstica mais geral e grosseira \u00e9 permitido.\n\n\n\n\n\n\nFun\u00e7\u00f5es aut\u00f4nomas\n \nS(x,p)\n: a fun\u00e7\u00e3o n\u00e3o \"olha\" para o conjunto \nX\n ou outros elementos, s\u00f3 para o elemento \nx\n em quest\u00e3o.\n\n\n\n\n\n\nNOTA: existe ainda o caso espacial de sin\u00f4nimos \nx'\n de \nx\n que s\u00e3o utilizados como primeira op\u00e7\u00e3o para a aplica\u00e7\u00e3o de \nS(x,p)\n, ou seja, descarta-se \nS(x,p_i)\n quando \np_i\n n\u00e3o levar a um resultado compativel com \nx'\n. Vide os ~50 casos de \nabrevia\u00e7\u00f5es votadas no Registro-BR\n, tais como POA, Sampa, Jampa, etc.  O crit\u00e9rio de compatilidade \u00e9 simplesmente confirmar que as letras do resultado \nr\n sejam letras presentes em \nx'\n e numa mesma ordem.\n\n\nSiglas boas, mnem\u00f4nicas\n\n\nA \"sigla mnem\u00f4nica\" para nome de munic\u00edpio \u00e9 aquela que \u00e9 f\u00e1cil do cidad\u00e3o lembrar, em geral porque cumpre um uma  regra \u00f3bvia de forma\u00e7\u00e3o. Mesmo quem \u00e9 moradodor da cidade, s\u00f3 vai decorar a sigla se ela parecer importante. E vai ser menos importante a sigla da cidade vizinha, menos importante ainda de uma cidade de outro estado.\n\n\nO que fica na mem\u00f3ria \u00e9 a \"sigla que pega\", que \u00e9 f\u00e1cil lembrar. Siglas e abrevia\u00e7\u00f5es, assim como siglas derivadas de abrevia\u00e7\u00f5es j\u00e1 populares. As abrevia\u00e7\u00f5es \"Sampa\" para S\u00e3o Paulo e \"POA\" para Porto Alegre s\u00e3o exemplos que pegaram. No caso de Sampa, poderia ser reduzida para SPA, de modo a preservar apenas letras do nome original, e causando menos estranheza que \"SAL\" ou \"SPO\".\n\n\n\nA seguir algumas regras consensualmente (consulta p\u00fablica preliminar) aceitas como \"boas\" para se formar uma sigla de 3 letras f\u00e1cil de lembrar:\n\n\n\n\n\n\n\n\nRegra\n\n\nExemplos\n\n\nNotas\n\n\n\n\n\n\n\n\n\n\nR1.\n Primeiras tr\u00eas letras do primeiro nome\n\n\nAGU\n   (Agudos), \nBEL\n (Bel\u00e9m de Maria), \nEMB\n (Embu das Artes), \nITU\n   (Itu), \nSUZ\n (Suzan\u00f3polis)\n\n\nPrincipal regra por ser  mais \u00f3bvio e natural. \nComo as demais tem seus limites, colis\u00f5es surgem aos montes em nomes prefixados como \"S\u00e3o\".\n\n\n\n\n\n\nR2.\n Principais Iniciais na sequ\u00eancia\n\n\nSJC\n    (S\u00e3o Jos\u00e9 dos Campos), \nSCE\n (Santa Cruz da Esperan\u00e7a), \nSRQ\n (Santa Rita do Passa Quatro)\n\n\nPrimeira letra de cada palavra, ignorando preposi\u00e7\u00f5es ou contra\u00e7\u00f5es. No caso de mais que 3 palavras, eleger a inicial seguida das mais usadas para se referir ao munic\u00edpio (ou as que apresentem \nletra menos frequente\n).\n\n\n\n\n\n\nR2b.\n Principais Iniciais pulando uma ou duas palavras\n\n\nSRQ\n (Santa Rita do Passa Quatro)\n\n\nVaria\u00e7\u00e3o de R2 por\u00e9m pulando Primeira letra de cada palavra, ignorando preposi\u00e7\u00f5es ou contra\u00e7\u00f5es.\n\n\n\n\n\n\nR3.\n Inicial seguida das primeiras consoantes\n\n\nAGD    (Agudos), BLM (Bel\u00e9m de Maria)\n\n\nEquivale a deletar as vogais e depois aplicar a regra R1.\n\n\n\n\n\n\nR4.\n Inicial da primeira palavras seguida de primeiras letras de uma palavra subsequente\n\n\nSPA\n (S\u00e3o Paulo), BMA (Bel\u00e9m de Maria)\n\n\nUsada em  nomes compostos que tenha 2, 4 ou mais palavras, ignorando preposi\u00e7\u00f5es.\n\n\n\n\n\n\n...\n\n\n...\n\n\n...\n\n\n\n\n\n\nR10.\n Idem R2 mas usando preposi\u00e7\u00f5es\n\n\n...\n\n\n...\n\n\n\n\n\n\nR11.\n Idem R4 mas usando preposi\u00e7\u00f5es\n\n\n...\n\n\n...\n\n\n\n\n\n\n...\n\n\n...\n\n\n...\n\n\n\n\n\n\n\n\nEm negrito as siglas \"oficiais\" (Anatel ou DER).  No caso do \"teste de qualidade da sigla\", por exemplo para comparar o resultado da Anatel como o resultado do DER, as regras porporcionam uma avalia\u00e7\u00e3o objetiva para pontuar as escolhas de abrevia\u00e7\u00e3o realizadas.\n\n\n\u00c9 poss\u00edvel criar um \"padr\u00e3o de abrevia\u00e7\u00e3o\" a partir das regras. A vantagem do uso de regras \u00e9 que tamb\u00e9m fica estabelecido um referencial do que \u00e9 justo, ou seja, n\u00e3o deixa de contemplar nenhum dos ~5600 munic\u00edpios, n\u00e3o h\u00e1 risco da proposta  se preocupar mais com a sigla de um nome e menos com a sigla de outro.\n\n\nA sequ\u00eancia de regras a ser usar a cada colis\u00e3o, primeiro R1, depois R2, R3, etc. \u00e9 s\u00f3 sugerida, uma defini\u00e7\u00e3o mais rigorosa precisa ser dada ao se eleger um algoritmo.  A finalidade das regras aqui \u00e9 apenas avaliar o perfil estat\u00edstico, por exemplo das abrevia\u00e7\u00f5es Anatel.\n\n\nEvitando coliz\u00f5es\n\n\nUm importante modelo, muito usado na \nteoria das fun\u00e7\u00f5es hash\n, fazendo uso do \nprinc\u00edpio do pombal\n no contexto conhecido como \n\"paradoxo do anivers\u00e1rio\"\n,\n permite avaliar a probabilidade de colis\u00e3o em uma \"hash perfeita\":\n\n\n\n\n\n\n\nNo caso das abrevia\u00e7\u00f5es de 3 letras pode-se simular como se fossem resultados (hashe digests) de 12 a 15 bits  (3\u00d74bits para simular alfabeto de 16 letras, 3\u00d75bits para alfabetos de 32 letras). O total de combina\u00e7\u00f5es no alfabeto convencional \u00e9 26\u00b3~17600, mais pr\u00f3ximo de 14 bits do que de 15.  As fun\u00e7\u00f5es usuais de coli\u00e7\u00e3o (\nexemplo\n) avaliam apenas a chance da  colis\u00e3o depois de ter obtido a pen\u00faltima sigla. Na pr\u00e1tica \u00e9 mais razo\u00e1vel conferir quantos itens podem ser inseridos antes da chance de colis\u00e3o ultrapassar os 50%. Os resultados para 14 bits s\u00e3o:\n\n\n\n\n~150 primeiros nomes com chance inferior a 50%\n\n\n~200 ... \n70%\n\n\n~300 ... \n90%\n\n\n~500 ... ~100%\n\n\n\n\nDisso se conclui que a busca por \nsiglas de qualidade razo\u00e1vel\n \u00e9 praticamente imposs\u00edvel depois de obtidas as primeiras 500 siglas de 3 letras, e que elas ser\u00e3o garantidamente \nboas siglas\n apenas no inicio, at\u00e9 as primeiras 150.\n\n\nNa pr\u00e1tica, como \nvimos\n, existem mais de quatro regras consensualmente consideradas boas, de forma que \nseriam permitidas 3 ou 4 colis\u00f5es\n antes de considerar \"qualidade menor\". Esse dado precisa ser levado em conta num modelo de probabilidades... Mas foge ao escopo do presente rascumho formular um modelo mais sofisticado. Podemos esbo\u00e7ar para dar uma ideia das contas, argumentos e conclus\u00f5es:\n\na segunda, terceira e quarta tentativas caem no mesmo problema, devendo ter as suas chances  multiplicadas para resultar em falha... \nPor exemplo com 200 itens j\u00e1 eleitos, s\u00e3o 70% de chances na primeira tenativa, 70% na segunda, 70% na terceira, portanto 70%^3 = 30% de chances de falha. Com 300 itens 90%^3 = 73% de chances ... E com 500 chegamos ao limiar de 99,9%^3 = 99,7%, continua sendo ~100%. No 100% o que se pode fazer \u00e9 escolher \"uma vaga qualquer\" entre as siglas que sobram, sem chance de fazer uma boa escolha.\n\n\nUm padr\u00e3o nacional nunca ser\u00e1 mnem\u00f4nico\n\n\nA experi\u00eancia mostra que, se a suposta sigla n\u00e3o for relativamente f\u00e1cil de lembrar, acaba sendo \npior do que um c\u00f3digo num\u00e9rico\n, pois \u00e9 natural do ser humano n\u00e3o assumir que esqueceu aquilo que quase lembra... Ao preencher um formul\u00e1rio, por exemplo, podemos nos equivocar trocando a sigla certa por uma parecida, causando mais confus\u00e3o do que deixando o campo em branco.\n\n\nMesmo um c\u00f3digo alfanum\u00e9rico, como placa de carro, assumidamente \"c\u00f3digo\", sem compromisso ou confus\u00e3o com nomes: os ~5600 munic\u00edpios representam itens do n\u00famero 1 ao 5600, que em base36 seriam repersentados por c\u00f3digos alfanum\u00e9ricos do \n001\n ao \nF9K\n (com decimal intercalado).\n\n\nApesar de n\u00e3o ser endossado por outros \u00f3rg\u00e3os, o padr\u00e3o Anatel de siglas de 3 letras \u00e9 de abrang\u00eancia nacional, uma para cada nome de munic\u00edpio. A proposta \u00e9 razo\u00e1vel, fez o poss\u00edvel para que as os c\u00f3digos se pare\u00e7am siglas nas capitais e cidades mais populares, mas como s\u00e3o quase 5600 nomes, eles representam mais que 34% das 26\n3\n=17576 \ncombina\u00e7\u00f5es das letras em uma sigla de 3 letras\n.\n\n\nA recomenda\u00e7\u00e3o matem\u00e1tica para se ter boa liberdade de escolha na sigla de cada nome, como vimos acima, \u00e9 que n\u00e3o ultrapasse 500, portanto as 5600 siglas da Anatel representam uma dose 10 vezes maior do que a recomendada.\n\n\nVejamos se na pr\u00e1tica a teoria comentada antes faz sentido... Na pr\u00e1tica o que seriam 3 ou 4 regras se tornam umas  \"10 regras boas\" para achar a sigla depois de uma colis\u00e3o... Pela teoria, com 600 ou mais itens temos 99,999%^10 = 99,9% de chances de colis\u00e3o. Teoriacamente, n\u00e3o h\u00e1 como melhorar o resultado quando passamos muito do limiar de 500 itens...  Ent\u00e3o na tabela Anatel encontrar\u00edamos casos  siglas que nem sequer fazem uso das letras do nome.\n\n\nUm bom exemplo de como \"estoura o limite\" \u00e9 o uso da letra Y: na tabela Anatal encontramos ~150 abrevia\u00e7\u00f5es com Y entre nomes que n\u00e3o apresentam a letras Y, de \nAAY\n (Alto Alegre/RS), \nABY\n (Abaiara/CE) e \nAGY\n (Aguiar/PB)  at\u00e9 \nYCA\n I\u00e7ara/SC, \nYGI\n (Itagi/BA) e  \nYPE\n (Itape/BA). Idem para a letra K, com ~160 \"abrevia\u00e7\u00f5es\" de nomes que n\u00e3o apresentam a letra K, de \nAAK\n (Anam\u00e3/AM) a \nTUK\n (Tururu/CE).\n\n\n\u00c9 um limite da Natureza\n, n\u00e3o tem como instituir uma lei federal ou fazer um grande investimento para um super-computador ou grandes experts chegarem a um resultado melhor do que a Anatel chegou, seria jogar dinheiro fora. As estat\u00edsticas a seguir apenas refor\u00e7am que esse limite \u00e9 ainda mais baixo.\n\n\nAlfabeto com menos de 26 letras\n\n\nSe olharmos com lupa, veremos ainda que n\u00e3o s\u00e3o todas as 26 letras do alfabeto utilizadas nos nomes dos munic\u00edpios brasileiros, as letras K, W e Y praticamente n\u00e3o s\u00e3o usadas, e, junto com F,Z,Q e X representam menos que 2% da frequencia de uso entre os nomes. \n  Assim, removendo essas 7 letras ficamos com um alfabeto de 19 letras, de modo que os ~5600 munic\u00edpios podem na pr\u00e1tica escolher entre  19\n3\n\u22486900 poss\u00edveis siglas (AAA, AAB, ..., VVA, VVB, ..., VVV), ou seja, representam mais que 80% das possibilidades, praticamente n\u00e3o h\u00e1 margem para a escolha de uma sigla mais amig\u00e1vel quando outro munic\u00edpio j\u00e1 escolheu a sua preferida.\n\n\n\n\n\n\n\n\nletra\n\n\nn\n\n\nletra\n\n\nn\n\n\n\n\n\n\n\n\n\n\nA\n\n\n10683\n\n\nD\n\n\n1402\n\n\n\n\n\n\nO\n\n\n5611\n\n\nB\n\n\n1295\n\n\n\n\n\n\nI\n\n\n5194\n\n\nG\n\n\n1173\n\n\n\n\n\n\nR\n\n\n4885\n\n\nV\n\n\n806\n\n\n\n\n\n\nE\n\n\n3985\n\n\nH\n\n\n623\n\n\n\n\n\n\nN\n\n\n3538\n\n\nJ\n\n\n569\n\n\n\n\n\n\nS\n\n\n3435\n\n\nF\n\n\n372\n\n\n\n\n\n\nT\n\n\n2641\n\n\nZ\n\n\n302\n\n\n\n\n\n\nU\n\n\n2332\n\n\nQ\n\n\n209\n\n\n\n\n\n\nC\n\n\n2183\n\n\nX\n\n\n124\n\n\n\n\n\n\nL\n\n\n2090\n\n\nY\n\n\n26\n\n\n\n\n\n\nM\n\n\n1757\n\n\nW\n\n\n15\n\n\n\n\n\n\nP\n\n\n1725\n\n\nK\n\n\n8\n\n\n\n\n\n\n\n\nComo a maior parte das \"siglas bacanas\" \u00e9 composta por uma ou mais inicias das palavras que formam o nome, eliminando preposi\u00e7\u00f5es e ficando com as primeiras letras teremos a seguinte distribui\u00e7\u00e3o:\n\n\n\n\n\n\n\n\nInicial\n\n\nfreq\n\n\nInicial\n\n\nfreq\n\n\n\n\n\n\n\n\n\n\nC\n\n\n667 (13%)\n\n\nF\n\n\n164 (3%)\n\n\n\n\n\n\nP\n\n\n580 (11%)\n\n\nV\n\n\n153 (3%)\n\n\n\n\n\n\nS\n\n\n534 (10%)\n\n\nD\n\n\n111 (2%)\n\n\n\n\n\n\nA\n\n\n486 (9%)\n\n\nE\n\n\n88 (2%)\n\n\n\n\n\n\nM\n\n\n459 (9%)\n\n\nO\n\n\n87 (2%)\n\n\n\n\n\n\nI\n\n\n404 (8%)\n\n\nU\n\n\n68 (1%)\n\n\n\n\n\n\nB\n\n\n361 (7%)\n\n\nQ\n\n\n41 (1%)\n\n\n\n\n\n\nJ\n\n\n250 (5%)\n\n\nH\n\n\n30 (1%)\n\n\n\n\n\n\nT\n\n\n247 (5%)\n\n\nX\n\n\n14 (0%)\n\n\n\n\n\n\nG\n\n\n245 (5%)\n\n\nW\n\n\n8 (0%)\n\n\n\n\n\n\nR\n\n\n202 (4%)\n\n\nZ\n\n\n4 (0%)\n\n\n\n\n\n\nN\n\n\n177 (3%)\n\n\nK\n\n\n2 (0%)\n\n\n\n\n\n\nL\n\n\n173 (3%)\n\n\nY\n\n\n0 (0%)\n\n\n\n\n\n\n\n\n\u00c9 nula a frequ\u00eancia de uso do Y entre as iniciais dos munic\u00edpios, e percentualmente nula, 0%, para as letras K, Z, W e X.  Todas com frequ\u00eancia inferior a 1/3 da mediana de ~170 em 5559 (~3%). Dessa forma se justificaria usar um alfabeto reduzido, de 21 letras, para avaliar melhor avaliar as chances de obten\u00e7\u00e3o de siglas baseadas em iniciais.\n\n\nFazendo as contas, 21\n3\n=9261, logo os nomes ocupam  ~60%, ainda bem longe dos 10% ou menos recomendados para ter uma folga.\n\n\n-- Distribui\u00e7\u00e3o de freq. de letras nos nomes:\nSELECT  regexp_split_to_table(replace(\nlexLabel\n,'.',''), '') letra,  count(*) as n\nFROM test_city GROUP BY 1 ORDER BY 2 DESC; --  mediana em D (1402).\n\n-- Distribui\u00e7\u00e3o n\u00e3o usada (sem peso):\nSELECT substr(regexp_split_to_table(\nlexLabel\n, '\\.'),1,1) letra, count(*) as n\nFROM test_city GROUP BY 1 ORDER BY 2 DESC;\n-- Mediana  entre L (288) e F (287), pode ser arredondada para 290.\n\n-- Distribui\u00e7\u00e3o consistente de freq. de iniciais:\nWITH distrib AS (\n SELECT inicial, sum(n) freq\n FROM  (\n   SELECT substr(unnest(pals),1,1) inicial, n1::float/array_length(pals,1) n\n   FROM (\n      SELECT regexp_split_to_array(\nlexLabel\n, '\\.') pals, count(*) n1\n      FROM test_city  \n     GROUP BY 1\n   ) t1\n ) t2 GROUP BY 1 ORDER BY 2 DESC\n)  SELECT upper(inicial) inicial,\n          round(freq) || ' ('||round(100.0*freq/5292.0)||'%)' freq\n   FROM distrib\n; -- Novamente mediana  entre L (173) e F (164),\n  -- pode ser arredondada para 169 (de um total de 5292)\n\n\n\n\nPadr\u00e3o estadual\n\n\n\u00c9 o escopo correto para se obter siglas boas ou razo\u00e1veis, bons mnem\u00f4nicos para o cidad\u00e3o.  A m\u00e9dia de munic\u00edpios por estado \u00e9 ~210\n (mediana ~140) e o pior caso \u00e9 MG com ~850. Praticamente todos est\u00e3o dentro do limite razo\u00e1vel de 500 nomes, e mais 50% dos munic\u00edpios satisfaz a condi\u00e7\u00e3o de  \n|C|\n150, para ter \nboas siglas\n.\n\n\n\n...\n\n\nA recomenda\u00e7\u00e3o \u00e9 que se use sempre o \"escopo Estado\" para que as siglas sejam mnem\u00f4nicas. Apenas o estado de MG foge um pouco demais dos limites. A rigor, por terem mais de 500 munic\u00edpios, os estados de MG e SP deveriam estabelecer regras justas de escolha, priorizando por exemplo a capital, as cidades com nomes curtos e as 200 cidades com proje\u00e7\u00e3o de popula\u00e7\u00e3o maior que as demais.", 
            "title": "Siglas"
        }, 
        {
            "location": "/spec04ap01-siglas/#siglas-de-pais-e-estado", 
            "text": "Na escola aprendemos todas elas: AC \u00e9 Acre, AM \u00e9 Amazonas, ... \u00c9 uma das miss\u00f5es do ensino garantir que o cidad\u00e3o entenda a linguagem oficial, que saiba reconhecer o contexto e designar elementos com simplicidade e sem ambiguidade.  A hist\u00f3ria completa das siglas de estado \u00e9  descrita por esta tabela . J\u00e1 existiu uma sigla  GB , que entre os brasileiros, at\u00e9 1975, n\u00e3o era Gr\u00e3-Bretanha, designava o antigo Estado da Guanabra. Quem controla isso, garantindo a identifica\u00e7\u00e3o sem ambiguidade e apenas dos elementos vigentes, \u00e9 uma autoridade nacional designada por lei federal: atualmente, e j\u00e1 fazendo algumas d\u00e9cadas, o IBGE.  Uma vez estabelecidas internamente, as siglas passaram a ser tamb\u00e9m elementos da comunica\u00e7\u00e3o internacional. O Brasil \u00e9 signat\u00e1rio do acordo que d\u00e1 estabilidade e legitimidade ao padr\u00e3o ISO 3166, e a autoridade do padr\u00e3o  ISO 3166-2:BR .  Regra geral  para uso contextualizado das siglas de pa\u00eds e estado:    Em contexto internacional usar a sigla completa, ex.  BR-SP .    Em contexto nacional usar apenas a sigla de estado,  SP .    Quando houver uma regra consensual (entre as partes) ou oficial na comunica\u00e7\u00e3o, a hierarquia \"pa\u00eds-estado-cidade\" poder\u00e1 ser reduzida para apenas \"cidade\", portanto omitindo a designa\u00e7\u00e3o de estado.  Por exemplo, ao inv\u00e9s de  Manaus (AM)  ou  BR-AM-MNS , usar apenas  Manaus  ou  MNS .", 
            "title": "Siglas de pa\u00eds e estado"
        }, 
        {
            "location": "/spec04ap01-siglas/#sigla-de-3-letras-do-municipio", 
            "text": "Considera\u00e7\u00f5es sobre a padroniza\u00e7\u00e3o das siglas de 3 letras para a identifica\u00e7\u00e3o munic\u00edpios.\nApesar de terem sido propostos e setorialmente adotados alguns padr\u00f5es de codifica\u00e7\u00e3o, eles s\u00e3o incompativeis e distintios.  Os principais s\u00e3o:    ANATEL: uso interno.    DER - Departamento de Estradas de Rodagem: uso j\u00e1 consolidado em placas e mapas. Conforme o estado h\u00e1 uma autoridade diferente (ex. DER/MG \u00e9 de Minas  Gerais) e grau de uso/maturidade diferente.    Assembleia de SP: est\u00e1 regulamentando de forma mais ampla o uso das siglas do DER/SP.    Abaixo uma amostra da lista completa de todas as abrevia\u00e7\u00f5es de municipios de S\u00e3o Paulo:  \nAAG (Alto Alegre), AAI (Agua\u00ed), ABR (Am\u00e9rico Brasiliense), ACD (Aparecida), ACP (Am\u00e9rico de Campos), ADD (Andradina), ADF (Adolfo), ADM (Adamantina), ADT (Aparecida d'Oeste), AEI (Areias), AEP (Arei\u00f3polis), AFM (Alfredo Marcondes), AGD (Agudos), AGL (\u00c1guas de Lind\u00f3ia), ...   ..., PBT (Pereira Barreto), PBU (Pacaembu), PCT (Piacatu), PDB (Pedra Bela), PDD (Piedade), PDH (Pindamonhangaba), PDM (Pindorama), PDN (Pederneiras), PDP (Prad\u00f3polis), PDR (Pedreira), PEP (Pedrinhas Paulista), PFR (Porto Ferreira), PFZ (Porto Feliz), PGA (Porangaba), PGH (Pedregulho), PGI (Pirangi), PGP (Paragua\u00e7u Paulista), PGR (Pitangueiras), PGT (Pontes Gestal), PIR (Piracicaba), PIZ (Pinhalzinho), PLC (Paulic\u00e9ia), PLF (Paulo de Faria), PLN (Paul\u00ednia), PLO (Palmeira d'Oeste), PLP (Palmares Paulista), PLS (Pilar do Sul), PLT (Planalto), PMP (Pomp\u00e9ia), PMT (Palmital), PNG (Pirassununga), PNL (Pedran\u00f3polis), PNP (Pen\u00e1polis), PNR (Panorama), POA (Po\u00e1), POG (Ponga\u00ed), POL (Poloni), PON (Pontal), POT (Potim), PPL (Populina), PPM (Paranapanema), PQA (Pariquera-A\u00e7u), PQB (Piquerobi), PQT (Piquete), PRA (Pracinha), PRB (Peru\u00edbe), PRC (Piracaia), PRD (Pardinho), PRG (Praia Grande), PRI (Piraju\u00ed), PRJ (Piraju), PRN (Paranapu\u00e3), PRP (Parapu\u00e3), PRR (Pereiras), PRS (Para\u00edso), PRT (Prat\u00e2nia), PSA (Presidente Alves), PSB (Presidente Bernardes), ... ..., UBT (Ubatuba), UCH (Uchoa), UJR (Ubirajara), UNP (Uni\u00e3o Paulista), URN (Ur\u00e2nia), URP (Urup\u00eas), URU (Uru), VAR (Vargem), VAT (Vista Alegre do Alto), VCR (Vera Cruz), VGP (Vargem Grande Paulista), VGS (Vargem Grande do Sul), VLG (Valentim Gentil), VLH (Valinhos), VNH (Vinhedo), VOT (Votorantim), VPS (Valpara\u00edso), VRD (Viradouro), VTB (Vit\u00f3ria Brasil), VTG (Votuporanga), VZP (V\u00e1rzea Paulista), ZAC (Zacarias).", 
            "title": "Sigla de 3 letras do munic\u00edpio"
        }, 
        {
            "location": "/spec04ap01-siglas/#quase-hashes", 
            "text": "O conceito j\u00e1 amplamente estudado e difundido de  fun\u00e7\u00e3o hash  ajuda a conceber as \"fun\u00e7\u00f5es sigla\", que convertem um nome qualquer em um c\u00f3digo de 3 letras  que seja percebido (pelo humano) como uma sigla.   Enquanto a fun\u00e7\u00e3o hash  H(x)  devolve um n\u00famero diferente para cada nome  x  de um conjunto  X , a fun\u00e7\u00e3o sigla  S(x)  devolve um c\u00f3digo de letras mnem\u00f4nico (que faz lembrar do nome).  Os principais coceitos trazidos da  teoria das fun\u00e7\u00f5es hash  s\u00e3o     Conceito  defini\u00e7\u00e3o no escopo de  H(x)  defini\u00e7\u00e3o no escopo  S(x)      colis\u00e3o  Quando d\u00e1 o azar de dois elementos de  X , digamos  x1  e  x2 , resultarem em  H(x1)=H(x2) .  Idem, h\u00e1 colis\u00e3o quando  S(x1)=S(x2) .    dom\u00edmio  Conjunto de todos os poss\u00edveis nomes,  X .  idem.    contra-dom\u00edmio  Conjunto de todos os poss\u00edveis resultados de  H(x) , conjunto  C .  Mais espec\u00edfico:  todos os poss\u00edveis resultados de  S(x)  s\u00e3o todas as combina\u00e7\u00f5es de 3 letras do alfabeto utilizado por  X .  Se usar 26 letras, teremos  |C|=26\u00b3=17576 .    probabilidade de colis\u00e3o  Problabilidade  P(H,X)  em fun\u00e7\u00e3o do n\u00famero do tamanho do contra-dom\u00ednio,  |C| .  Idem.     Em caso de colis\u00e3o a fun\u00e7\u00e3o hash tradicional,  H(x) , apenas evita repeti\u00e7\u00e3o, enquanto a fun\u00e7\u00e3o sigla segue uma ordem de tentativas, come\u00e7ando pelas tentativas de percep\u00e7\u00e3o  p  mais amig\u00e1vel ( p=0  significa zero-pior), e recorrendo depois das colis\u00f5es a valores   p=1 ,  p=2 , etc. at\u00e9 um valor  p=N  pior de fato.   A rigor portanto a fun\u00e7\u00e3o sigla usa tamb\u00e9m  p  como par\u00e2metro que muda com o n\u00famero de colis\u00f5es,  S(x,p) .  O compromisso com a percep\u00e7\u00e3o humana pode demandar um certo refinamento, o que nos obriga a considerar duas classes distintas de fun\u00e7\u00f5es sigla:    Fun\u00e7\u00f5es estat\u00edsticas   S(x,p,Q) , mais refinadas: que requerem uma an\u00e1lise pr\u00e9via do conjunto  X  para escolher a melhor estrat\u00e9gia. An\u00e1lise de frequ\u00eancia de letras por exemplo \u00e9 um tipo de an\u00e1lise pr\u00e9via. Supondo que o resultado de uma an\u00e1lise seja o conjunto  Q  de frequ\u00eancias, desvios ou outros indicadores quantitativos, a  fun\u00e7\u00e3o sigla ser\u00e1 parametrizada por  S(x,p,Q) . Casos de agrupamentos, tais como metaphones, podem ser modelados por  Q(x) .  No caso de nomes de munic\u00edpio basta tomar o cuidado de usar apenas estat\u00edsticas v\u00e1lidas para uma perspectiva de d\u00e9cadas, ou seja, usar uma an\u00e1lise estat\u00edstica mais geral e grosseira \u00e9 permitido.    Fun\u00e7\u00f5es aut\u00f4nomas   S(x,p) : a fun\u00e7\u00e3o n\u00e3o \"olha\" para o conjunto  X  ou outros elementos, s\u00f3 para o elemento  x  em quest\u00e3o.    NOTA: existe ainda o caso espacial de sin\u00f4nimos  x'  de  x  que s\u00e3o utilizados como primeira op\u00e7\u00e3o para a aplica\u00e7\u00e3o de  S(x,p) , ou seja, descarta-se  S(x,p_i)  quando  p_i  n\u00e3o levar a um resultado compativel com  x' . Vide os ~50 casos de  abrevia\u00e7\u00f5es votadas no Registro-BR , tais como POA, Sampa, Jampa, etc.  O crit\u00e9rio de compatilidade \u00e9 simplesmente confirmar que as letras do resultado  r  sejam letras presentes em  x'  e numa mesma ordem.", 
            "title": "Quase hashes"
        }, 
        {
            "location": "/spec04ap01-siglas/#siglas-boas-mnemonicas", 
            "text": "A \"sigla mnem\u00f4nica\" para nome de munic\u00edpio \u00e9 aquela que \u00e9 f\u00e1cil do cidad\u00e3o lembrar, em geral porque cumpre um uma  regra \u00f3bvia de forma\u00e7\u00e3o. Mesmo quem \u00e9 moradodor da cidade, s\u00f3 vai decorar a sigla se ela parecer importante. E vai ser menos importante a sigla da cidade vizinha, menos importante ainda de uma cidade de outro estado.  O que fica na mem\u00f3ria \u00e9 a \"sigla que pega\", que \u00e9 f\u00e1cil lembrar. Siglas e abrevia\u00e7\u00f5es, assim como siglas derivadas de abrevia\u00e7\u00f5es j\u00e1 populares. As abrevia\u00e7\u00f5es \"Sampa\" para S\u00e3o Paulo e \"POA\" para Porto Alegre s\u00e3o exemplos que pegaram. No caso de Sampa, poderia ser reduzida para SPA, de modo a preservar apenas letras do nome original, e causando menos estranheza que \"SAL\" ou \"SPO\".  A seguir algumas regras consensualmente (consulta p\u00fablica preliminar) aceitas como \"boas\" para se formar uma sigla de 3 letras f\u00e1cil de lembrar:     Regra  Exemplos  Notas      R1.  Primeiras tr\u00eas letras do primeiro nome  AGU    (Agudos),  BEL  (Bel\u00e9m de Maria),  EMB  (Embu das Artes),  ITU    (Itu),  SUZ  (Suzan\u00f3polis)  Principal regra por ser  mais \u00f3bvio e natural.  Como as demais tem seus limites, colis\u00f5es surgem aos montes em nomes prefixados como \"S\u00e3o\".    R2.  Principais Iniciais na sequ\u00eancia  SJC     (S\u00e3o Jos\u00e9 dos Campos),  SCE  (Santa Cruz da Esperan\u00e7a),  SRQ  (Santa Rita do Passa Quatro)  Primeira letra de cada palavra, ignorando preposi\u00e7\u00f5es ou contra\u00e7\u00f5es. No caso de mais que 3 palavras, eleger a inicial seguida das mais usadas para se referir ao munic\u00edpio (ou as que apresentem  letra menos frequente ).    R2b.  Principais Iniciais pulando uma ou duas palavras  SRQ  (Santa Rita do Passa Quatro)  Varia\u00e7\u00e3o de R2 por\u00e9m pulando Primeira letra de cada palavra, ignorando preposi\u00e7\u00f5es ou contra\u00e7\u00f5es.    R3.  Inicial seguida das primeiras consoantes  AGD    (Agudos), BLM (Bel\u00e9m de Maria)  Equivale a deletar as vogais e depois aplicar a regra R1.    R4.  Inicial da primeira palavras seguida de primeiras letras de uma palavra subsequente  SPA  (S\u00e3o Paulo), BMA (Bel\u00e9m de Maria)  Usada em  nomes compostos que tenha 2, 4 ou mais palavras, ignorando preposi\u00e7\u00f5es.    ...  ...  ...    R10.  Idem R2 mas usando preposi\u00e7\u00f5es  ...  ...    R11.  Idem R4 mas usando preposi\u00e7\u00f5es  ...  ...    ...  ...  ...     Em negrito as siglas \"oficiais\" (Anatel ou DER).  No caso do \"teste de qualidade da sigla\", por exemplo para comparar o resultado da Anatel como o resultado do DER, as regras porporcionam uma avalia\u00e7\u00e3o objetiva para pontuar as escolhas de abrevia\u00e7\u00e3o realizadas.  \u00c9 poss\u00edvel criar um \"padr\u00e3o de abrevia\u00e7\u00e3o\" a partir das regras. A vantagem do uso de regras \u00e9 que tamb\u00e9m fica estabelecido um referencial do que \u00e9 justo, ou seja, n\u00e3o deixa de contemplar nenhum dos ~5600 munic\u00edpios, n\u00e3o h\u00e1 risco da proposta  se preocupar mais com a sigla de um nome e menos com a sigla de outro.  A sequ\u00eancia de regras a ser usar a cada colis\u00e3o, primeiro R1, depois R2, R3, etc. \u00e9 s\u00f3 sugerida, uma defini\u00e7\u00e3o mais rigorosa precisa ser dada ao se eleger um algoritmo.  A finalidade das regras aqui \u00e9 apenas avaliar o perfil estat\u00edstico, por exemplo das abrevia\u00e7\u00f5es Anatel.", 
            "title": "Siglas boas, mnem\u00f4nicas"
        }, 
        {
            "location": "/spec04ap01-siglas/#evitando-colizoes", 
            "text": "Um importante modelo, muito usado na  teoria das fun\u00e7\u00f5es hash , fazendo uso do  princ\u00edpio do pombal  no contexto conhecido como  \"paradoxo do anivers\u00e1rio\" ,  permite avaliar a probabilidade de colis\u00e3o em uma \"hash perfeita\":    No caso das abrevia\u00e7\u00f5es de 3 letras pode-se simular como se fossem resultados (hashe digests) de 12 a 15 bits  (3\u00d74bits para simular alfabeto de 16 letras, 3\u00d75bits para alfabetos de 32 letras). O total de combina\u00e7\u00f5es no alfabeto convencional \u00e9 26\u00b3~17600, mais pr\u00f3ximo de 14 bits do que de 15.  As fun\u00e7\u00f5es usuais de coli\u00e7\u00e3o ( exemplo ) avaliam apenas a chance da  colis\u00e3o depois de ter obtido a pen\u00faltima sigla. Na pr\u00e1tica \u00e9 mais razo\u00e1vel conferir quantos itens podem ser inseridos antes da chance de colis\u00e3o ultrapassar os 50%. Os resultados para 14 bits s\u00e3o:   ~150 primeiros nomes com chance inferior a 50%  ~200 ...  70%  ~300 ...  90%  ~500 ... ~100%   Disso se conclui que a busca por  siglas de qualidade razo\u00e1vel  \u00e9 praticamente imposs\u00edvel depois de obtidas as primeiras 500 siglas de 3 letras, e que elas ser\u00e3o garantidamente  boas siglas  apenas no inicio, at\u00e9 as primeiras 150.  Na pr\u00e1tica, como  vimos , existem mais de quatro regras consensualmente consideradas boas, de forma que  seriam permitidas 3 ou 4 colis\u00f5es  antes de considerar \"qualidade menor\". Esse dado precisa ser levado em conta num modelo de probabilidades... Mas foge ao escopo do presente rascumho formular um modelo mais sofisticado. Podemos esbo\u00e7ar para dar uma ideia das contas, argumentos e conclus\u00f5es: a segunda, terceira e quarta tentativas caem no mesmo problema, devendo ter as suas chances  multiplicadas para resultar em falha...  Por exemplo com 200 itens j\u00e1 eleitos, s\u00e3o 70% de chances na primeira tenativa, 70% na segunda, 70% na terceira, portanto 70%^3 = 30% de chances de falha. Com 300 itens 90%^3 = 73% de chances ... E com 500 chegamos ao limiar de 99,9%^3 = 99,7%, continua sendo ~100%. No 100% o que se pode fazer \u00e9 escolher \"uma vaga qualquer\" entre as siglas que sobram, sem chance de fazer uma boa escolha.", 
            "title": "Evitando coliz\u00f5es"
        }, 
        {
            "location": "/spec04ap01-siglas/#um-padrao-nacional-nunca-sera-mnemonico", 
            "text": "A experi\u00eancia mostra que, se a suposta sigla n\u00e3o for relativamente f\u00e1cil de lembrar, acaba sendo  pior do que um c\u00f3digo num\u00e9rico , pois \u00e9 natural do ser humano n\u00e3o assumir que esqueceu aquilo que quase lembra... Ao preencher um formul\u00e1rio, por exemplo, podemos nos equivocar trocando a sigla certa por uma parecida, causando mais confus\u00e3o do que deixando o campo em branco.  Mesmo um c\u00f3digo alfanum\u00e9rico, como placa de carro, assumidamente \"c\u00f3digo\", sem compromisso ou confus\u00e3o com nomes: os ~5600 munic\u00edpios representam itens do n\u00famero 1 ao 5600, que em base36 seriam repersentados por c\u00f3digos alfanum\u00e9ricos do  001  ao  F9K  (com decimal intercalado).  Apesar de n\u00e3o ser endossado por outros \u00f3rg\u00e3os, o padr\u00e3o Anatel de siglas de 3 letras \u00e9 de abrang\u00eancia nacional, uma para cada nome de munic\u00edpio. A proposta \u00e9 razo\u00e1vel, fez o poss\u00edvel para que as os c\u00f3digos se pare\u00e7am siglas nas capitais e cidades mais populares, mas como s\u00e3o quase 5600 nomes, eles representam mais que 34% das 26 3 =17576  combina\u00e7\u00f5es das letras em uma sigla de 3 letras .  A recomenda\u00e7\u00e3o matem\u00e1tica para se ter boa liberdade de escolha na sigla de cada nome, como vimos acima, \u00e9 que n\u00e3o ultrapasse 500, portanto as 5600 siglas da Anatel representam uma dose 10 vezes maior do que a recomendada.  Vejamos se na pr\u00e1tica a teoria comentada antes faz sentido... Na pr\u00e1tica o que seriam 3 ou 4 regras se tornam umas  \"10 regras boas\" para achar a sigla depois de uma colis\u00e3o... Pela teoria, com 600 ou mais itens temos 99,999%^10 = 99,9% de chances de colis\u00e3o. Teoriacamente, n\u00e3o h\u00e1 como melhorar o resultado quando passamos muito do limiar de 500 itens...  Ent\u00e3o na tabela Anatel encontrar\u00edamos casos  siglas que nem sequer fazem uso das letras do nome.  Um bom exemplo de como \"estoura o limite\" \u00e9 o uso da letra Y: na tabela Anatal encontramos ~150 abrevia\u00e7\u00f5es com Y entre nomes que n\u00e3o apresentam a letras Y, de  AAY  (Alto Alegre/RS),  ABY  (Abaiara/CE) e  AGY  (Aguiar/PB)  at\u00e9  YCA  I\u00e7ara/SC,  YGI  (Itagi/BA) e   YPE  (Itape/BA). Idem para a letra K, com ~160 \"abrevia\u00e7\u00f5es\" de nomes que n\u00e3o apresentam a letra K, de  AAK  (Anam\u00e3/AM) a  TUK  (Tururu/CE).  \u00c9 um limite da Natureza , n\u00e3o tem como instituir uma lei federal ou fazer um grande investimento para um super-computador ou grandes experts chegarem a um resultado melhor do que a Anatel chegou, seria jogar dinheiro fora. As estat\u00edsticas a seguir apenas refor\u00e7am que esse limite \u00e9 ainda mais baixo.", 
            "title": "Um padr\u00e3o nacional nunca ser\u00e1 mnem\u00f4nico"
        }, 
        {
            "location": "/spec04ap01-siglas/#alfabeto-com-menos-de-26-letras", 
            "text": "Se olharmos com lupa, veremos ainda que n\u00e3o s\u00e3o todas as 26 letras do alfabeto utilizadas nos nomes dos munic\u00edpios brasileiros, as letras K, W e Y praticamente n\u00e3o s\u00e3o usadas, e, junto com F,Z,Q e X representam menos que 2% da frequencia de uso entre os nomes.    Assim, removendo essas 7 letras ficamos com um alfabeto de 19 letras, de modo que os ~5600 munic\u00edpios podem na pr\u00e1tica escolher entre  19 3 \u22486900 poss\u00edveis siglas (AAA, AAB, ..., VVA, VVB, ..., VVV), ou seja, representam mais que 80% das possibilidades, praticamente n\u00e3o h\u00e1 margem para a escolha de uma sigla mais amig\u00e1vel quando outro munic\u00edpio j\u00e1 escolheu a sua preferida.     letra  n  letra  n      A  10683  D  1402    O  5611  B  1295    I  5194  G  1173    R  4885  V  806    E  3985  H  623    N  3538  J  569    S  3435  F  372    T  2641  Z  302    U  2332  Q  209    C  2183  X  124    L  2090  Y  26    M  1757  W  15    P  1725  K  8     Como a maior parte das \"siglas bacanas\" \u00e9 composta por uma ou mais inicias das palavras que formam o nome, eliminando preposi\u00e7\u00f5es e ficando com as primeiras letras teremos a seguinte distribui\u00e7\u00e3o:     Inicial  freq  Inicial  freq      C  667 (13%)  F  164 (3%)    P  580 (11%)  V  153 (3%)    S  534 (10%)  D  111 (2%)    A  486 (9%)  E  88 (2%)    M  459 (9%)  O  87 (2%)    I  404 (8%)  U  68 (1%)    B  361 (7%)  Q  41 (1%)    J  250 (5%)  H  30 (1%)    T  247 (5%)  X  14 (0%)    G  245 (5%)  W  8 (0%)    R  202 (4%)  Z  4 (0%)    N  177 (3%)  K  2 (0%)    L  173 (3%)  Y  0 (0%)     \u00c9 nula a frequ\u00eancia de uso do Y entre as iniciais dos munic\u00edpios, e percentualmente nula, 0%, para as letras K, Z, W e X.  Todas com frequ\u00eancia inferior a 1/3 da mediana de ~170 em 5559 (~3%). Dessa forma se justificaria usar um alfabeto reduzido, de 21 letras, para avaliar melhor avaliar as chances de obten\u00e7\u00e3o de siglas baseadas em iniciais.  Fazendo as contas, 21 3 =9261, logo os nomes ocupam  ~60%, ainda bem longe dos 10% ou menos recomendados para ter uma folga.  -- Distribui\u00e7\u00e3o de freq. de letras nos nomes:\nSELECT  regexp_split_to_table(replace( lexLabel ,'.',''), '') letra,  count(*) as n\nFROM test_city GROUP BY 1 ORDER BY 2 DESC; --  mediana em D (1402).\n\n-- Distribui\u00e7\u00e3o n\u00e3o usada (sem peso):\nSELECT substr(regexp_split_to_table( lexLabel , '\\.'),1,1) letra, count(*) as n\nFROM test_city GROUP BY 1 ORDER BY 2 DESC;\n-- Mediana  entre L (288) e F (287), pode ser arredondada para 290.\n\n-- Distribui\u00e7\u00e3o consistente de freq. de iniciais:\nWITH distrib AS (\n SELECT inicial, sum(n) freq\n FROM  (\n   SELECT substr(unnest(pals),1,1) inicial, n1::float/array_length(pals,1) n\n   FROM (\n      SELECT regexp_split_to_array( lexLabel , '\\.') pals, count(*) n1\n      FROM test_city  \n     GROUP BY 1\n   ) t1\n ) t2 GROUP BY 1 ORDER BY 2 DESC\n)  SELECT upper(inicial) inicial,\n          round(freq) || ' ('||round(100.0*freq/5292.0)||'%)' freq\n   FROM distrib\n; -- Novamente mediana  entre L (173) e F (164),\n  -- pode ser arredondada para 169 (de um total de 5292)", 
            "title": "Alfabeto com menos de 26 letras"
        }, 
        {
            "location": "/spec04ap01-siglas/#padrao-estadual", 
            "text": "\u00c9 o escopo correto para se obter siglas boas ou razo\u00e1veis, bons mnem\u00f4nicos para o cidad\u00e3o.  A m\u00e9dia de munic\u00edpios por estado \u00e9 ~210  (mediana ~140) e o pior caso \u00e9 MG com ~850. Praticamente todos est\u00e3o dentro do limite razo\u00e1vel de 500 nomes, e mais 50% dos munic\u00edpios satisfaz a condi\u00e7\u00e3o de   |C| 150, para ter  boas siglas .  ...  A recomenda\u00e7\u00e3o \u00e9 que se use sempre o \"escopo Estado\" para que as siglas sejam mnem\u00f4nicas. Apenas o estado de MG foge um pouco demais dos limites. A rigor, por terem mais de 500 munic\u00edpios, os estados de MG e SP deveriam estabelecer regras justas de escolha, priorizando por exemplo a capital, as cidades com nomes curtos e as 200 cidades com proje\u00e7\u00e3o de popula\u00e7\u00e3o maior que as demais.", 
            "title": "Padr\u00e3o estadual"
        }, 
        {
            "location": "/comparacao/", 
            "text": "((em constru\u00e7\u00e3o))\n\nCOMPARA\u00c7\u00c3O\n\n\nCompara\u00e7\u00e3o entre padr\u00f5es mais populares: Geohash, PlusCode, MapCode. Foi acescentado ainda o padr\u00e3o S2, que apesar de n\u00e3o ser ainda muito divulgado, \u00e9 um dos recomendados.\n\n\nA compara\u00e7\u00e3o se deu em torno de um ponto de controle bem conhecido, na capital de SP.\n\n\nC\u00f3digos do Marco-Zero de SP\n\n\nMarco Zero\n (\nlatitude -23.550385, longitude -46.633956\n) com ~5m de precis\u00e3o nos padr\u00f5es mais populares de 2018 e com infraestrutura em opera\u00e7\u00e3o:\n\n\n\n\nGeohash (base32): \n6gyf4bf1n\n\n\nPlusCode normal (base20): \n588MC9X8+RC\n\n\nPlusCode hibrido (cidade+base20): \nC9X8+RC S\u00e3o Paulo\n\n\nMapCode (cidade+): \nSP-RR.56\n\n\nS2 (hexadecimal): \n94ce59aaf89\n\n\n\n\nDestes, Geohash e S2 ainda n\u00e3o oferecem infraestrutura para sua vers\u00e3o h\u00edbrida, e o PlusCode ainda n\u00e3o oferece resolu\u00e7\u00e3o de abrevia\u00e7\u00f5es. Resultariam nos seguintes c\u00f3digos:\n\n\n\n\nGeohash Hibrido: \nSPA-YF4B.F1N\n\n\nPlusCode com sigla da cidade: \nSPA-C9X8+RC\n\n\nS2 em base36: \n3MHP9.IW09\n\n\nS2 em base 36 com prefixo SPA: \nSPA-XIW.09\n\n\n\n\nA seguir cada um dos exemplos ilustrado pelo mapa fornecido na respectiva infraestrutura p\u00fablica.\n\n\nGeohash\n\n\nO link acima envia aponta para \ngeohash.org\n que n\u00e3o d\u00e1 zoom compativel com a resolu\u00e7\u00e3o do Geohash. Para a ilustra\u00e7\u00e3o abaixo foi utilizada a interface manual de \nmovable-type.co.uk/scripts/geohash\n.\n\n\n\n\nOs dois primeiros d\u00edgitos podem ser cortados quando sabemos que o contexto \u00e9 a cidade de S\u00e3o Paulo (prefixo \n6g\n).\n\n\nPorta principal (~10m), escadaria da igreja da S\u00e9\n\n Geohash (base32), 9 d\u00edgitos: \n6gyf4bdn9\n precis\u00e3o ~5x5m\n\n Geohash (base32), 8 d\u00edgitos: \n6gyf4bdn\n precis\u00e3o ~35x20m\n\n\n\n\nPlusCode\n\n\n\n\nMapCode\n\n\n\n\nS2\n\n\n\n\nWhats3words\n\n\nPor ser patenteado est\u00e1 sendo utilizado apenas como exemplo ilustrativo.\n\n\n\n\nOutros pontos de controle\n\n\nJaragu\u00e1 do Sul... ( JGS \u00e9 \u00fanica, portanto equivalente a \"SC-JGS\",  \"SC/JaraguaSul\" ou \"br;sc;jaragua.sul\")\n\n\nExemplificando apenas com Geohash: ...\n\n\nExemplos de Geohash de prefixo do munic\u00edpio\n\n\nConforme o padr\u00e3o que vier a ser eleito (entre as op\u00e7\u00f5es Geohash, PlusCode, S2, etc.), a geometria e tamanho da menor c\u00e9lula a conter o munc\u00edpio ser\u00e1 diferente. A tabela abaixo exemplifica casos de diversos munic\u00edpios, mostrando junto o Geohash do seu centroide e em modo absoluto e modo relativa ao prefixo.\n\n\nSeparar por \u00e1rea maior ou menor a 300 km2.\n\n\n\n\n\n\n\n\nMunic\u00edpio (UF-abbrev3)\n\n\nC\u00f3digo CLP\n(~4m)\n\n\nGeohash\nmunicipal\n\n\nponto\n(~0.5m)\n\n\n\u00c1rea munic.\n(km2)\n\n\n\n\n\n\n\n\n\n\nAmaraji (PE-ARJ)\n\n\nARJ-WB3.J236\n\n\n7N\n\n\n7NWB3J23621T\n\n\n~200\n\n\n\n\n\n\nBarbacena (MG-BCA)\n\n\nBCA-0Z4.GXCV\n\n\n7H\n\n\n7H0Z4GXCV8BK\n\n\n~800\n\n\n\n\n\n\nBarra do Chap\u00e9u (SP-BCH)\n\n\nBCH-THG.NK1N\n\n\n6G\n\n\n6GTHGNK1NY93\n\n\n~400\n\n\n\n\n\n\nBom Jesus da Penha (MG-BSN)\n\n\nBSN-KZB.37\n\n\n6UQB\n\n\n6UQBKZB377KE\n\n\n~200\n\n\n\n\n\n\nCampinas (SP-CAM)\n\n\nCAM-TDX.YF6\n\n\n6GY\n\n\n6GYTDXYF6FSH\n\n\n~800\n\n\n\n\n\n\nDescalvado (SP-DCV)\n\n\nDCV-5E8.X5H\n\n\n6UN\n\n\n6UN5E8X5H0B2\n\n\n~800\n\n\n\n\n\n\nDois C\u00f3rregos (SP-DCR)\n\n\nDCR-UJ8.S4J0E\n\n\n6\n\n\n6UJ8S4J0ENBY\n\n\n~600\n\n\n\n\n\n\nHolambra (SP-HOL)\n\n\nHOL-X30.JHZ\n\n\n6GY\n\n\n6GYX30JHZ7C3\n\n\n~100\n\n\n\n\n\n\nJaci (SP-JCI)\n\n\nJCI-8ZE.FZD\n\n\n6UK\n\n\n6UK8ZEFZDM0C\n\n\n~100\n\n\n\n\n\n\nJardim Alegre (PR-JDG)\n\n\nJDG-NM9.1C5\n\n\n6GE\n\n\n6GENM91C5P7W\n\n\n~400\n\n\n\n\n\n\nLagoa Real (BA-LRL)\n\n\nLRL-9BP.JC74\n\n\n7J\n\n\n7J9BPJC74SEC\n\n\n~900\n\n\n\n\n\n\nLagoa (PB-LAG)\n\n\nLAG-V49.91GT\n\n\n7N\n\n\n7NV4991GTE4Z\n\n\n~200\n\n\n\n\n\n\nLut\u00e9cia (SP-LTC)\n\n\nLTC-1J2.4UJ\n\n\n6UH\n\n\n6UH1J24UJJYQ\n\n\n~500\n\n\n\n\n\n\nOliveira (MG-OLV)\n\n\nOLV-1YV.9JR\n\n\n7H2\n\n\n7H21YV9JREW6\n\n\n~900\n\n\n\n\n\n\nSanta Mariana (PR-SNM)\n\n\nSNM-UHF.4YSN\n\n\n6G\n\n\n6GUHF4YSNY2X\n\n\n~400\n\n\n\n\n\n\nS\u00e3o Borja (RS-SJA)\n\n\nSJA-FBK.9M4ME\n\n\n6\n\n\n6FBK9M4MEGPF\n\n\n~3600\n\n\n\n\n\n\nS\u00e3o Jos\u00e9 do Herval (RS-SQE)\n\n\nSQE-DKX.N6\n\n\n6FFF\n\n\n6FFFDKXN68BS\n\n\n~100\n\n\n\n\n\n\nS\u00e3o Paulo (SP-SPA)\n\n\nSPA-YC2.BYHD\n\n\n6G\n\n\n6GYC2BYHDXTF\n\n\n~1500\n\n\n\n\n\n\nS\u00e3o Paulo de Oliven\u00e7a (AM-SDO)\n\n\nSDO-RNT.1BMP0\n\n\n6\n\n\n6RNT1BMP0GX0\n\n\n~19700\n\n\n\n\n\n\nSchroeder (SC-SCH)\n\n\nSCH-453.MSP\n\n\n6GM\n\n\n6GM453MSPZR7\n\n\n~200\n\n\n\n\n\n\nTr\u00eas Barras (SC-TSB)\n\n\nTSB-70E.VP9\n\n\n6GK\n\n\n6GK70EVP9S0P\n\n\n~400\n\n\n\n\n\n\nUbaitaba (BA-UIA)\n\n\nUIA-7YY.ETNV\n\n\n7J\n\n\n7J7YYETNVBMH\n\n\n~200\n\n\n\n\n\n\n\n\nReparamos que munic\u00edpios de \u00e1rea maior (ex. S\u00e3o Borja e S\u00e3o Paulo de Oliven\u00e7a) e munic\u00edpios que \"d\u00e3o azar\" de ficar entre c\u00e9lulas do Geohash, como Dois C\u00f3rregos, tendem a ficar contidos em uma c\u00e9lula muito grande do Geohash, ou seja, ficam com o prefixo de um s\u00f3 d\u00edgito.\n\n\nAl\u00e9m destes casos extremos, percebemos que daria para otimizar, economizando pelo menos um d\u00edgito. A seguir examinaremos as estrat\u00e9gias de otimiza\u00e7\u00e3o, que consistem em \"escolher a dedo\" um conjunto de c\u00e9lulas que cubra mais precisamente o territ\u00f3rio do munic\u00edpio. No caso de S\u00e3o Paulo, percebe-se que o Geohash \n6G\n tem uma cobertura muito ampla, acaba sendo usado por diversos outros munic\u00edpios:\n\n\n\n\nSe para S\u00e3o Paulo o seguinte, \n6GY\n, fica de fora a pequena fra\u00e7\u00e3o em vermelho.\n\n\n\n\n\n\nExemplos de otimiza\u00e7\u00e3o com o prefixo da cidade\n\n\nMesmo o PlusCode que j\u00e1 nasceu especializado em usar nomes de cidade amig\u00e1veis no lugar estranhos prefixos,  n\u00e3o foi otimizado para cada cidade do mundo, \u00e9 apenas um \"quebra galho\", ao contr\u00e1rio do que foi feito no MapCode (infelizmente patenteado), que consegue uma compacta\u00e7\u00e3o muito maior por ter sido otimizado. \nCabe ao brasileiro\n (governo do Brasil e/ou comunidades brasileiras organizadas, como a Comunidade OSM Brasil) \npropor um esquema consistente de otimiza\u00e7\u00e3o\n.\n\n\nSuponhamos que a decis\u00e3o final seja por c\u00f3digos \nbase32\n, ou seja, com d\u00edgitos \"0,1,2...,9,A,B,C...T\". \nSuponhamos tamb\u00e9m que o  \nc\u00f3digo completo\n no padr\u00e3o eleito respeite a seguinte sintaxe de concatena\u00e7\u00e3o,\n \n \nestado\n \"-\" \nmunic\u00edpio\n \"-\" \ncodigo_celula\n \ncodigo_sufixo\nonde cada elemento entre \n e \n tem o seguinte conte\u00fado:\n\n\n\n\n\n\nestado\n \u00e9 uma sigla oficial de 2 letras (AC para Acre, AM para Amazonas, etc.)\n\n\n\n\n\n\nmunic\u00edpio\n \u00e9 uma sigla oficial de 3 letras, que junto com o c\u00f3digo do estado fornece o identificador \u00fanico da cidade. Por exemplo \nSP-PIR\n \u00e9 Piracicaba, \nSP-CAM\n \u00e9 Campinas. \nNo caso de capital do estado, pode-se omitir (ao inv\u00e9s de \nSP-SPA\n fica s\u00f3 \nSP\n).   \n\n\n\n\n\n\n\u00edndice_celula\n \u00e9 um \u00edndice de 0 a 32, identificando uma das 32 c\u00e9lulas que cobrem o munic\u00edpio. Eventualmente poder\u00e3o ser usadas 1024 c\u00e9lulas no lugar de apenas 32... E em rar\u00edssimas exce\u00e7\u00f5es seria uma c\u00e9lula s\u00f3 para todo o munic\u00edpio, dispensando o \u00edndice.\n\n\n\n\n\n\ncodigo_sufixo\n \u00e9 o que sobra do c\u00f3digo original depois que removemos dele o c\u00f3digo da c\u00e9lula-m\u00e3o determinada pelo \u00edndice (indice_celula).\n\n\n\n\n\n\nO primeiro desafio \u00e9 criar um esquema padronizado para se recobrir o munic\u00edpio por uma malha de c\u00e9lulas maiores, que poder\u00e3o ser designadas por  \n\u00edndice_celula\n. Imaginemos o recobrimento ilustrado abaixo, atrav\u00e9s de um algoritmo simples e parametriz\u00e1vel, conhecido como \nregion cover\n:\n\n\n\n\nResumidamente a m\u00e9todologia de otimiza\u00e7\u00e3o do prefixo do munic\u00edpio consiste do seguinte:\n\n\n\n\n\n\nSe o munic\u00edpio apresentar uma distribui\u00e7\u00e3o n\u00e3o-uniforme de uso urbano e rural, digamos 30% urbano e 70% rural, localizar as \u00e1reas da mancha ou manchas urbanas, onde dever\u00e1 haver maior densidade de c\u00e9lulas. Ideal que sejam  \"mancha urbana futura estimada\" (digamos estimativa de expan\u00e7\u00e3o para pr\u00f3ximos 10 anos).\n\n\n\n\n\n\nEscolher um conjunto c\u00e9lulas (32 no exemplo) o mais acoplado poss\u00edvel \u00e0 geometria do munic\u00edpio, cubrindo com o m\u00ednimo de sobras o seu territ\u00f3rio. Cada uma dessas c\u00e9lulas ser\u00e1 associada a um valor de \n\u00edndice_celula\n. \nSe for um \"munic\u00edpio de \n\u00e1rea grande\n\", ou se for n\u00e3o-uniforme, pode ser necess\u00e1rio usar dois d\u00edgitos de indexa\u00e7\u00e3o (1024 c\u00e9lulas o exemplo).\nHavendo grades de maior resolu\u00e7\u00e3o sobre a mancha urbana, o seu pol\u00edgono \u00e9 dado pela  subtra\u00e7\u00e3o dentro do conjunto de resolu\u00e7\u00e3o mais grosseira.  \n\n\n\n\n\n\nVoltar ao item-1 com uma melhor parametriza\u00e7\u00e3o...", 
            "title": "Compara\u00e7\u00f5es"
        }, 
        {
            "location": "/comparacao/#codigos-do-marco-zero-de-sp", 
            "text": "Marco Zero  ( latitude -23.550385, longitude -46.633956 ) com ~5m de precis\u00e3o nos padr\u00f5es mais populares de 2018 e com infraestrutura em opera\u00e7\u00e3o:   Geohash (base32):  6gyf4bf1n  PlusCode normal (base20):  588MC9X8+RC  PlusCode hibrido (cidade+base20):  C9X8+RC S\u00e3o Paulo  MapCode (cidade+):  SP-RR.56  S2 (hexadecimal):  94ce59aaf89   Destes, Geohash e S2 ainda n\u00e3o oferecem infraestrutura para sua vers\u00e3o h\u00edbrida, e o PlusCode ainda n\u00e3o oferece resolu\u00e7\u00e3o de abrevia\u00e7\u00f5es. Resultariam nos seguintes c\u00f3digos:   Geohash Hibrido:  SPA-YF4B.F1N  PlusCode com sigla da cidade:  SPA-C9X8+RC  S2 em base36:  3MHP9.IW09  S2 em base 36 com prefixo SPA:  SPA-XIW.09   A seguir cada um dos exemplos ilustrado pelo mapa fornecido na respectiva infraestrutura p\u00fablica.", 
            "title": "C\u00f3digos do Marco-Zero de SP"
        }, 
        {
            "location": "/comparacao/#geohash", 
            "text": "O link acima envia aponta para  geohash.org  que n\u00e3o d\u00e1 zoom compativel com a resolu\u00e7\u00e3o do Geohash. Para a ilustra\u00e7\u00e3o abaixo foi utilizada a interface manual de  movable-type.co.uk/scripts/geohash .   Os dois primeiros d\u00edgitos podem ser cortados quando sabemos que o contexto \u00e9 a cidade de S\u00e3o Paulo (prefixo  6g ).  Porta principal (~10m), escadaria da igreja da S\u00e9  Geohash (base32), 9 d\u00edgitos:  6gyf4bdn9  precis\u00e3o ~5x5m  Geohash (base32), 8 d\u00edgitos:  6gyf4bdn  precis\u00e3o ~35x20m", 
            "title": "Geohash"
        }, 
        {
            "location": "/comparacao/#pluscode", 
            "text": "", 
            "title": "PlusCode"
        }, 
        {
            "location": "/comparacao/#mapcode", 
            "text": "", 
            "title": "MapCode"
        }, 
        {
            "location": "/comparacao/#s2", 
            "text": "", 
            "title": "S2"
        }, 
        {
            "location": "/comparacao/#whats3words", 
            "text": "Por ser patenteado est\u00e1 sendo utilizado apenas como exemplo ilustrativo.", 
            "title": "Whats3words"
        }, 
        {
            "location": "/comparacao/#outros-pontos-de-controle", 
            "text": "Jaragu\u00e1 do Sul... ( JGS \u00e9 \u00fanica, portanto equivalente a \"SC-JGS\",  \"SC/JaraguaSul\" ou \"br;sc;jaragua.sul\")  Exemplificando apenas com Geohash: ...", 
            "title": "Outros pontos de controle"
        }, 
        {
            "location": "/comparacao/#exemplos-de-geohash-de-prefixo-do-municipio", 
            "text": "Conforme o padr\u00e3o que vier a ser eleito (entre as op\u00e7\u00f5es Geohash, PlusCode, S2, etc.), a geometria e tamanho da menor c\u00e9lula a conter o munc\u00edpio ser\u00e1 diferente. A tabela abaixo exemplifica casos de diversos munic\u00edpios, mostrando junto o Geohash do seu centroide e em modo absoluto e modo relativa ao prefixo.  Separar por \u00e1rea maior ou menor a 300 km2.     Munic\u00edpio (UF-abbrev3)  C\u00f3digo CLP (~4m)  Geohash municipal  ponto (~0.5m)  \u00c1rea munic. (km2)      Amaraji (PE-ARJ)  ARJ-WB3.J236  7N  7NWB3J23621T  ~200    Barbacena (MG-BCA)  BCA-0Z4.GXCV  7H  7H0Z4GXCV8BK  ~800    Barra do Chap\u00e9u (SP-BCH)  BCH-THG.NK1N  6G  6GTHGNK1NY93  ~400    Bom Jesus da Penha (MG-BSN)  BSN-KZB.37  6UQB  6UQBKZB377KE  ~200    Campinas (SP-CAM)  CAM-TDX.YF6  6GY  6GYTDXYF6FSH  ~800    Descalvado (SP-DCV)  DCV-5E8.X5H  6UN  6UN5E8X5H0B2  ~800    Dois C\u00f3rregos (SP-DCR)  DCR-UJ8.S4J0E  6  6UJ8S4J0ENBY  ~600    Holambra (SP-HOL)  HOL-X30.JHZ  6GY  6GYX30JHZ7C3  ~100    Jaci (SP-JCI)  JCI-8ZE.FZD  6UK  6UK8ZEFZDM0C  ~100    Jardim Alegre (PR-JDG)  JDG-NM9.1C5  6GE  6GENM91C5P7W  ~400    Lagoa Real (BA-LRL)  LRL-9BP.JC74  7J  7J9BPJC74SEC  ~900    Lagoa (PB-LAG)  LAG-V49.91GT  7N  7NV4991GTE4Z  ~200    Lut\u00e9cia (SP-LTC)  LTC-1J2.4UJ  6UH  6UH1J24UJJYQ  ~500    Oliveira (MG-OLV)  OLV-1YV.9JR  7H2  7H21YV9JREW6  ~900    Santa Mariana (PR-SNM)  SNM-UHF.4YSN  6G  6GUHF4YSNY2X  ~400    S\u00e3o Borja (RS-SJA)  SJA-FBK.9M4ME  6  6FBK9M4MEGPF  ~3600    S\u00e3o Jos\u00e9 do Herval (RS-SQE)  SQE-DKX.N6  6FFF  6FFFDKXN68BS  ~100    S\u00e3o Paulo (SP-SPA)  SPA-YC2.BYHD  6G  6GYC2BYHDXTF  ~1500    S\u00e3o Paulo de Oliven\u00e7a (AM-SDO)  SDO-RNT.1BMP0  6  6RNT1BMP0GX0  ~19700    Schroeder (SC-SCH)  SCH-453.MSP  6GM  6GM453MSPZR7  ~200    Tr\u00eas Barras (SC-TSB)  TSB-70E.VP9  6GK  6GK70EVP9S0P  ~400    Ubaitaba (BA-UIA)  UIA-7YY.ETNV  7J  7J7YYETNVBMH  ~200     Reparamos que munic\u00edpios de \u00e1rea maior (ex. S\u00e3o Borja e S\u00e3o Paulo de Oliven\u00e7a) e munic\u00edpios que \"d\u00e3o azar\" de ficar entre c\u00e9lulas do Geohash, como Dois C\u00f3rregos, tendem a ficar contidos em uma c\u00e9lula muito grande do Geohash, ou seja, ficam com o prefixo de um s\u00f3 d\u00edgito.  Al\u00e9m destes casos extremos, percebemos que daria para otimizar, economizando pelo menos um d\u00edgito. A seguir examinaremos as estrat\u00e9gias de otimiza\u00e7\u00e3o, que consistem em \"escolher a dedo\" um conjunto de c\u00e9lulas que cubra mais precisamente o territ\u00f3rio do munic\u00edpio. No caso de S\u00e3o Paulo, percebe-se que o Geohash  6G  tem uma cobertura muito ampla, acaba sendo usado por diversos outros munic\u00edpios:   Se para S\u00e3o Paulo o seguinte,  6GY , fica de fora a pequena fra\u00e7\u00e3o em vermelho.", 
            "title": "Exemplos de Geohash de prefixo do munic\u00edpio"
        }, 
        {
            "location": "/comparacao/#exemplos-de-otimizacao-com-o-prefixo-da-cidade", 
            "text": "Mesmo o PlusCode que j\u00e1 nasceu especializado em usar nomes de cidade amig\u00e1veis no lugar estranhos prefixos,  n\u00e3o foi otimizado para cada cidade do mundo, \u00e9 apenas um \"quebra galho\", ao contr\u00e1rio do que foi feito no MapCode (infelizmente patenteado), que consegue uma compacta\u00e7\u00e3o muito maior por ter sido otimizado.  Cabe ao brasileiro  (governo do Brasil e/ou comunidades brasileiras organizadas, como a Comunidade OSM Brasil)  propor um esquema consistente de otimiza\u00e7\u00e3o .  Suponhamos que a decis\u00e3o final seja por c\u00f3digos  base32 , ou seja, com d\u00edgitos \"0,1,2...,9,A,B,C...T\".  Suponhamos tamb\u00e9m que o   c\u00f3digo completo  no padr\u00e3o eleito respeite a seguinte sintaxe de concatena\u00e7\u00e3o,     estado  \"-\"  munic\u00edpio  \"-\"  codigo_celula   codigo_sufixo onde cada elemento entre   e   tem o seguinte conte\u00fado:    estado  \u00e9 uma sigla oficial de 2 letras (AC para Acre, AM para Amazonas, etc.)    munic\u00edpio  \u00e9 uma sigla oficial de 3 letras, que junto com o c\u00f3digo do estado fornece o identificador \u00fanico da cidade. Por exemplo  SP-PIR  \u00e9 Piracicaba,  SP-CAM  \u00e9 Campinas.  No caso de capital do estado, pode-se omitir (ao inv\u00e9s de  SP-SPA  fica s\u00f3  SP ).       \u00edndice_celula  \u00e9 um \u00edndice de 0 a 32, identificando uma das 32 c\u00e9lulas que cobrem o munic\u00edpio. Eventualmente poder\u00e3o ser usadas 1024 c\u00e9lulas no lugar de apenas 32... E em rar\u00edssimas exce\u00e7\u00f5es seria uma c\u00e9lula s\u00f3 para todo o munic\u00edpio, dispensando o \u00edndice.    codigo_sufixo  \u00e9 o que sobra do c\u00f3digo original depois que removemos dele o c\u00f3digo da c\u00e9lula-m\u00e3o determinada pelo \u00edndice (indice_celula).    O primeiro desafio \u00e9 criar um esquema padronizado para se recobrir o munic\u00edpio por uma malha de c\u00e9lulas maiores, que poder\u00e3o ser designadas por   \u00edndice_celula . Imaginemos o recobrimento ilustrado abaixo, atrav\u00e9s de um algoritmo simples e parametriz\u00e1vel, conhecido como  region cover :   Resumidamente a m\u00e9todologia de otimiza\u00e7\u00e3o do prefixo do munic\u00edpio consiste do seguinte:    Se o munic\u00edpio apresentar uma distribui\u00e7\u00e3o n\u00e3o-uniforme de uso urbano e rural, digamos 30% urbano e 70% rural, localizar as \u00e1reas da mancha ou manchas urbanas, onde dever\u00e1 haver maior densidade de c\u00e9lulas. Ideal que sejam  \"mancha urbana futura estimada\" (digamos estimativa de expan\u00e7\u00e3o para pr\u00f3ximos 10 anos).    Escolher um conjunto c\u00e9lulas (32 no exemplo) o mais acoplado poss\u00edvel \u00e0 geometria do munic\u00edpio, cubrindo com o m\u00ednimo de sobras o seu territ\u00f3rio. Cada uma dessas c\u00e9lulas ser\u00e1 associada a um valor de  \u00edndice_celula .  Se for um \"munic\u00edpio de  \u00e1rea grande \", ou se for n\u00e3o-uniforme, pode ser necess\u00e1rio usar dois d\u00edgitos de indexa\u00e7\u00e3o (1024 c\u00e9lulas o exemplo). Havendo grades de maior resolu\u00e7\u00e3o sobre a mancha urbana, o seu pol\u00edgono \u00e9 dado pela  subtra\u00e7\u00e3o dentro do conjunto de resolu\u00e7\u00e3o mais grosseira.      Voltar ao item-1 com uma melhor parametriza\u00e7\u00e3o...", 
            "title": "Exemplos de otimiza\u00e7\u00e3o com o prefixo da cidade"
        }, 
        {
            "location": "/spec04ap05-ingenuos/", 
            "text": "((em constru\u00e7\u00e3o))\n\n\nAlgoritmos ing\u00eanuos: solu\u00e7\u00f5es v\u00e1lidas\n\n\nO termo \nalgoritmo\n em Computa\u00e7\u00e3o \u00e9 sin\u00f4nimo de \"receita\" utilizada para fazer algo, como um c\u00e1lculo. Fica caracterizado por seu nome, suas entradas e suas sa\u00eddas:\n\n\n\n\n\n\nENTRADAS: s\u00e3o os \"ingredientes\" que ser\u00e3o transformados em sa\u00eddas, ou que estabelecem par\u00e2metros de decis\u00e3o para modificar a sa\u00edda. Num algoritmo de CLP as entradas principais s\u00e3o as coordenadas geogr\u00e1ficas.\n\n\n\n\n\n\nSA\u00cdDAS: \u00e9 o resultado final, o \"bolo\" gerado pela receita \n que num algoritmo de CLP \u00e9 um c\u00f3digo.\n\n\n\n\n\n\nNOME: batizamos com nomes diferentes quando os resultados, entradas ou performance \u00e9 diferente dos seus similares. \nNOME DE VARIANTE: mantemos o \"nome de fam\u00edlia\", por exemplo Geohash36 \u00e9 uma variante do Geohash que muda o resultado final e acrescenta algumas op\u00e7\u00f5es de entrada.\n\n\n\n\n\n\nO Geohash e o PlusCode s\u00e3o nomes de algoritmos diferentes, que chegam a resultados diferentes, mas ambos calculados com rapidez e precis\u00e3o.\n\n\nUm \nalgoritmo ing\u00eanuo\n seria aquele que ataca o problema de maneira direta e \u00f3bvia,  norteada pela intui\u00e7\u00e3o, sem maior preocupa\u00e7\u00e3o com com a rapidez, ou casos an\u00f4malos. S\u00e3o importantes como referencial did\u00e1tico, para um primeiro contato do p\u00fablico leigo com o problema. At\u00e9 pode calhar, mas raramente ser\u00e1 considerado um algoritmo s\u00e9rio. Pode ser recomendado por exemplo para o uso em condi\u00e7\u00f5es extremas, onde n\u00e3o existe acesso a bancos de dados.\n\n\nA seguir os algoritmos principais envolvidos na abordagem mais direta do CLP-coordenada, que simplesmente toma um par de valores de latitude e longitude padr\u00e3o (cada coordenadada com 7 a 10 d\u00edgitos), e a devolve a mesma coisa em uma representa\u00e7\u00e3o comprimida, um c\u00f3digo s\u00f3 de 6 a 10 d\u00edgitos.  Nesta se\u00e7\u00e3o ser\u00e3o detalhados na sua \"receita ing\u00eanua\", mas a sua modulariza\u00e7\u00e3o, em algoritmos menores, \u00e9 v\u00e1lida para outros algoritmos.\n\n\nOutras fontes de explica\u00e7\u00e3o: na \ncompara\u00e7\u00e3o\n foram apresentados os principais \"algoritmos s\u00e9rios\", e na \nespecifica\u00e7\u00e3o das solu\u00e7\u00f5es CLP-coordenada\n as suas principais varia\u00e7\u00f5es.  No \nFAQ\n s\u00e3o respondidas perguntas que podem eventualmente ajudar o p\u00fablico leigo a entender o jarg\u00e3o e conceitos t\u00e9cnicos envolvidos.\n\n\nCompacta\u00e7\u00e3o ing\u00eanua\n\n\nAlgoritmo de convers\u00e3o de coordenadas geogr\u00e1ficas em CLP-coordenada atrav\u00e9s da \"compacta\u00e7\u00e3o ing\u00eanua\".\n\n\n\n\n\n\nENTRADAS: as coordenadas de um ponto sobre o territ\u00f3rio nacional, em formato decimal padr\u00e3o. \nExemplo  da \napresenta\u00e7\u00e3o\n, o MASP em S\u00e3o Paulo, nas coordenadas \n\"-23.56151,-46.65596\"\n, com precis\u00e3o de ~5m. A entrada pode ser expressa no padr\u00e3o Geo URI,  \ngeo:-23.56151,-46.65596;u=5\n, composta rigorosamente por:\nlatitude\n (primeira coordenada, \"-23.56151\" no exemplo)\nlongitude\n (segunda coordenada, \"-46.65596\" no exemplo)\nuncertainty\n (abreviado \nu\n com valor 5 no exemplo)\n\n\n\n\n\n\nENTRADA OPCIONAL: o contexto em geral \u00e9 \"Brasil\", de modo que na sa\u00edda, o c\u00f3digo resultante pode omitir o prefixo \nBR\n. \n\n\n\n\n\n\nSA\u00cdDA: um s\u00f3 c\u00f3digo compacto e revers\u00edvel, que pode ser convertido de volta nas coordenadas da entrada pelo algoritmo inverso.\n\n\n\n\n\n\nO passo-a-passo da convers\u00e3o da entrada em sa\u00edda \u00e9 o seguinte:\n\n\n\n\n\n\nDetecta-se atrav\u00e9s de um mapa oficial dos munic\u00edpios, tal como o OpenStreetMap, qual o munic\u00edpio da coordenada. O mapa retorna o seu identificador de munic\u00edpio IBGE, \nid_ibge\n, a sua abrevia\u00e7\u00e3o de 3 letras, \nabbrev3\n e os valores m\u00ednimos de latitude e longitude daquele munic\u00edpio, \nminlat\n e \nminlon\n. \nNo caso do exemplo temos  \nid_ibge := 3550308\n, \nabbrev3 := \"BR-SP-SPA\"\n, \nminlat := -24.007\n e \nminlon := -46.8264088\n\n\n\n\n\n\nObt\u00e9m-se as \"coordenadas locais\" subtraindo cada componente, ou seja, \nlatitude_local := latitude - minlat\n; \nlongitude_local := longitude - minlon\n. \nNo exemplo resultaria em \nlatitude_local=0.44549\n e \nlongitude_local=0.17045\n.\n\n\n\n\n\n\nObt\u00ean-se um \"numer\u00e3o\" a partir da normaliza\u00e7\u00e3o e \"fus\u00e3o\" das coordenadas locais. \nA forma mais ing\u00eanua \u00e9 concatenar, mas pode-se usar variantes como a \"fus\u00e3o por intercala\u00e7\u00e3o\". A normaliza\u00e7\u00e3o consiste apenas em acrescentar zeros a esqueda da parte inteira ou \u00e0 direita da parte fracion\u00e1ria, quando necess\u00e1rio. \nNo exemplo: ... \nnumerao = normaliza(latitude_local,u) || normaliza(longitude_local,u)\n.\n\n\n\n\n\n\nConverte-se o numer\u00e3o decimal para base32.\nVariantes podem considerar base36 ou base58, assim como diferentes alfabetos.\n\n\n\n\n\n\nO c\u00f3digo por fim \u00e9 obtido\n\n\n\n\n\n\nExemplo novamente\n\n\nApenas apresentando em narrativa mais longa o que j\u00e1 foi indicado acima no passo-a-passo, e que o algoritmo ing\u00eanuo n\u00e3o fica muito atr\u00e1s dos sofisticados Geohash e PlusCode.\n\n\n\n\n\n\n\n\nTecnologia de refer\u00eancia (c\u00f3digo padr\u00e3o) e resolu\u00e7\u00e3o\n\n\nOp\u00e7\u00e3o de CLP proposta\n\n\n\n\n\n\n\n\n\n\nIng\u00eanuo\n (\n44OH8TL\n)\n ~4x4 m\n\n\nSPA-44OH.8TL\n\n\n\n\n\n\nGeohash\n (\n6gycfqf0m\n)\n ~4x4 m\n\n\nSPA-YCFQ.F0M\n\n\n\n\n\n\nGeohash\n (\n6gycfqf0\n)\n ~25x20 m\n\n\nSPA-YCFQ.F0\n\n\n\n\n\n\nPlusCode\n (\n588MC8QV+CJ\n)\n ~15x15 m\n\n\nSPA-C8QV+CJ\n\n\n\n\n\n\n\n\n\n\nO CLP do MASP poderia ser formado s\u00f3 pelos d\u00edgitos das coordenadas, algo como \n2356151,4665596\n, mas ainda seriam 7+7=14 d\u00edgitos, muito longo para lembrar ou digitar.  As coordenadas podem ficar mais compactas se ao inv\u00e9s de serem representadas na base10 (decimal), usarmos a \nbase32\n, o que resultaria em \n27STN,4EC7S\n, 5+5 d\u00edgitos. Ainda melhor sem a v\u00edrgula, tudo num s\u00f3 numer\u00e3o, pois a convers\u00e3o trata ele como um todo e fica um d\u00edgito mais compacto, \nLDNBRCHJS\n... pronto, 9 d\u00edgitos!\n\n\nCompactamos a informa\u00e7\u00e3o original de 14 d\u00edgitos para 9, simplesmente estabelecendo uma conven\u00e7\u00e3o de representa\u00e7\u00e3o mais adequada para um c\u00f3digo... Podemos fazer melhor?  Sim, ainda sem recorrer a receitas num\u00e9ricas complexas, podemos \nusar a informa\u00e7\u00e3o de contexto\n. O contexto do MASP \n\u00e9 o munic\u00edpio\n de S\u00e3o Paulo, que podemos abreviar para \nSP\n j\u00e1 que \u00e9 a capital do Estado \n se fosse digigamos Piracicaba seria uma abrevia\u00e7\u00e3o de 3 letras, \nPIR\n.\n\n\nSe levar  em conta as coordenadas de todos os pontos internos ao tra\u00e7ado do munic\u00edpio de S\u00e3o Paulo tem o mesmo prefixo, como latitude na forma \"-23.5\netc\n\" e longitude \"-46.6\netc\n\", podemos incluir o sigla \nSP\n do munic\u00edpio no c\u00f3digo e elinar d\u00edgitos redundantes do seu contexto. No caso do Geohash fazemos \ncortando a parte inicial do c\u00f3digo\n que for comum a todos os pontos da cidade.\n\n\nMatematicamente, h\u00e1 uma forma mais precisa do que cortar prefixos. Fazemos isso subtraindo a menor latitude (-24.007) e a menor longitude (-46.82641) o que resultaria em coordenadas 0.44549 e 0.17045 para o MASP, concatendo-as num numer\u00e3o e depois representando em base32 resultaria em \n44OH8TL\n, ou seja, o c\u00f3digo mais curto e palat\u00e1vel para o ser humano, \nSP-44OH.8TL\n. Que m\u00e1gica, temos uma receita simples e um c\u00f3digo compacto!\n\n\nO c\u00f3digo \nSPA-44OH.8TL\n \u00e9 bem \nmais f\u00e1cil de lembrar\n do que as coordenadas, porque a sigla do munic\u00edpio \u00e9 amig\u00e1vel, e o restante dos caracteres \u00e9 mais curto do que um n\u00famero de telefone. Claro, esse \nn\u00e3o \u00e9 o padr\u00e3o proposto\n pois ele carece de outras caracter\u00edsticas que o Geohash e outros padr\u00f5es oferecem. \n O que precisa ficar claro \u00e9 que a tecnologia pode ser simples, a m\u00e1gica est\u00e1 em estabelecer um consenso no que queremos, n\u00e3o em encontrar uma receita complexa para resolver o problema.\n\n\nFus\u00e3o intrela\u00e7ada ing\u00eanua\n\n\nA fus\u00e3o de latitude com longitude \"num s\u00f3 numer\u00e3o\", a rigor precisa ser feita bit-a-bit conforme descrita \nnesta dica de algoritmo em linguagem C\n. A seguir o algoritmo ing\u00eanuo tem a finalidade exclusiva de ser did\u00e1tico, mostrando como essa vontade de \"fundir n\u00fameros num s\u00f3\", de forma um pouco mais inteligente, acabou levando aos algoritmos modernos de indexa\u00e7\u00e3o baseados em curvas fractais.\n\n\nNo algoritmo mais ing\u00eanuo, descrito acima, a fus\u00e3o \u00e9 realizada por simples concatena\u00e7\u00e3o. Essa t\u00e9cnica \u00e9 satisfat\u00f3ria em termos de compacta\u00e7\u00e3o, mas apresenta inconvenientes no c\u00f3digo resultante, porque leva a c\u00e9lulas vizinhas com prefixos diferentes. A estrat\u00e9gia de simplesmente intercalar os d\u00edgitos j\u00e1 figura como solu\u00e7\u00e3o na representa\u00e7\u00e3o decimal. Tomemos novamente o exemplo do MASP, com coordenadas locais \nlat:=44549; lon:=17045;\n intercalar \u00e9 ir concatenando d\u00edgito a d\u00edgito, revezando entre as coordendas. Passo-a-passo:\n\n\n\n\nprimeiro d\u00edgito de \nlat\n \u00e9 \n4\n. Sobram \nlat=4549\n e fica \nfundido=4\n;\n\n\nprimeiro d\u00edgito de \nlon\n \u00e9 \n1\n. Sobram \nlon=7045\n e fica \nfundido=41\n;\n\n\nsegundo d\u00edgito de \nlat\n \u00e9 \n4\n. Sobram \nlat=549\n e fica \nfundido=414\n;\n\n\nsegundo d\u00edgito de \nlon\n \u00e9 \n7\n. Sobram \nlon=045\n e fica \nfundido=4147\n;\n\n\n... \nfundido=4147504495\n.\n\n\n\n\nAgora esse numer\u00e3o fundido tem o mesmo comportamento por exemplo que o CEP: dois endere\u00e7os sem primeiros d\u00edgitos iguais estar\u00e3o a muitos quil\u00f4metros de dist\u00e2ncia, talvez extremos diferentes do pa\u00eds; com primeiros digamos 4 d\u00edgitos iguais est\u00e3o numa mesma macro-regi\u00e3o... E se diferem apenas nos dois \u00faltimos d\u00edgitos, s\u00e3o endere\u00e7os vizinhos.\n\n\nRepare que \u00e9 t\u00e3o compacto quanto a concatena\u00e7\u00e3o direta, o fundido decimal tem 10 d\u00edgitos e o base32 (\n3RJBPBF\n) 7 d\u00edgitos, como no caso concatenado. Sendo assim \nn\u00e3o h\u00e1 raz\u00e3o alguma para concatenar, \u00e9 sempre melhor fundir\n.\n\n\nMas nem sempre d\u00e1 sorte de todos os endere\u00e7os de uma cidade, quando representados dessa forma,  terem um mesmo prefixoz\u00e3o, ser\u00e1 um prefixozinho e isso n\u00e3o ajuda muito a compactar pelo \"prefixo municipal\".  Para se obter um prefixo municipal maior \u00e9 preciso usar uma base num\u00e9rica menor, ou seja, menor que a base10 no exemplo. E a menor base poss\u00edvel \u00e9 a base2, por isso o algoritmo correto, mais eficiente \u00e9 a intercala\u00e7\u00e3o em base2.\n\n\n\n\nEsse pequeno milagre de preservar prefixo nas vizinhan\u00e7as foi descoberto por acaso ao organizarmos melhor a concatena\u00e7\u00e3o, e tem uma explica\u00e7\u00e3o geom\u00e9trica, pois o entrela\u00e7amento resulta numa \n\"curva de ordem Z\"\n... E justamente essa curva explica os problemas residuais de \"saltos de vizinhan\u00e7a\", que nem o algoritmo bin\u00e1rio resolve.  Na verdade o algoritmo Geohash acrescentou uma pequena melhora, trocando as coordenadas usuais pela divis\u00e3o bin\u00e1ria recorrente do globo terrestre, mas ainda assim n\u00e3o resolve os saltos da curva Z.  S\u00f3 a curva de Hilbert parece dar uma solu\u00e7\u00e3o mais satisfat\u00f3ria. Ela \u00e9 usada em algoritmos ex\u00f3ticos, como o \nGeohash-hilbert\n, e em algoritmos padronizados modernos, como o \nS2-geometry\n.\n\n\nIndexa\u00e7\u00e3o ing\u00eanua da grade municipal\n\n\nPara qualquer algoritmo de convers\u00e3o das coordenadas num s\u00f3 c\u00f3digo, consta-se que o c\u00f3digo ser\u00e1 mais compacto quanto menor for a \u00e1rea do munic\u00edpio. Isso alias \u00e9 um dos fundamentos, j\u00e1 enunciados pelo MapCode ... ((link equa\u00e7\u00e3o \u00e1rea em fun\u00e7\u00e3o do n\u00famero de d\u00edgitos))\n\n\nAssim, uma \u00e1rea municipal muito densa ou muito grande precisa ser subdividida em \u00e1reas menores, para garantir resultados mais compactos... Mas ao subdividir haver\u00e1 o custo adicional de se indicar o c\u00f3digo dessa \u00e1rea menor. Nisso consiste a indexa\u00e7\u00e3o.\n\n\n\n\n\n\nENTRADAS: geometria do pol\u00edgono do munic\u00edpio (\ngeom\n) e par\u00e2metros de cobertura, principalmente a quantidade-alvo de c\u00e9lulas na grade (\ntarget\n indicando 32 ou 1024).\n\n\n\n\n\n\nSA\u00cdDA: lista de identificadores de c\u00e9lula, tipicamente c\u00e9lulas S2. \ncells\n.\n\n\n\n\n\n\nPasso-a-passo, depois de padronizar a base do c\u00f3digo resultante (nos exemplos usamos base32),\n\n\n\n\n\n\nAvaliar se a \u00e1rea do munic\u00edpio (\ngeom\n) requer zero, 1 ou 2 d\u00edgitos de indexa\u00e7\u00e3o.\n No caso do exemplo \"d\u00edgitos base32\", de modo que seriam parti\u00e7\u00f5es da \u00e1rea em zero (fica como est\u00e1), 32 partes ou 1024 partes.  No caso de S\u00e3o Paulo, parece razo\u00e1vel um s\u00f3 d\u00edgito, ou seja, o resultado seria \ntarget=32\n.\n\n\n\n\n\n\nUsar um algoritmo de parti\u00e7\u00e3o qualquer (\nS2\n por exemplo), sem compromisso com o sistema de representa\u00e7\u00e3o. Equivale a aplicar uma \"grade de n\u00edvel L\" \u00e0 \u00e1rea do munic\u00edpio, onde L \u00e9 o n\u00edvel hierarquico da grade. Ajusta-se o melhor poss\u00edvel para particionar o m\u00e1ximo com o n\u00famero de d\u00edgitos indicado pelo passo anterior.\n\n\n\n\n\n\nListar os identificadores de grade ou seu intervalo, como resultado em \ncells\n. A ordem dos elementos em \ncells\n j\u00e1 \u00e9 o \u00edndice da c\u00e9lula (ex. valores de 0 a \ntarget-1\n) para aquele munic\u00edpio.\n\n\n\n\n\n\n\n\nRedu\u00e7\u00e3o de nomes a palavras\n\n\nHoje no Brasil j\u00e1 se praticam em algumas cidades como S\u00e3o Paulo o uso de rotula\u00e7\u00e3o abreviada, por \"palavra distintiva\" do nome rua, tipicamente quando de nomes compostos.\n\n\n\n\nEssa estrat\u00e9gia \u00e9 v\u00e1lida em contextos onde o conjunto totais de nomes \u00e9 \nreduzido\n. Ao longo de uma via principal, o n\u00famero de vias perpendiculares \u00e9 limitado, e do para fins de sele\u00e7\u00e3o de palavras n\u00e3o-repetidas pode-se considerar um  \nconjunto reduzido\n.\n\n\n\n\n\n\nENTRADAS: conjunto de nomes completos.\n\n\n\n\n\n\nSA\u00cdDA: conjunto de pares \n(nome_completo,palavra)\n.\n\n\n\n\n\n\nTrata-se de um algoritmo estat\u00edstico, que toma como entrada nomes completos e devolve palavras.\n\n\nPolicia, ambul\u00e2ncia, bombeiro e outros servi\u00e7os que precisam transmitir por r\u00e1dio e sem ambiguidade o nome da localiza\u00e7\u00e3o, que por vezes \u00e9 um cruzamento ou uma quadra idenfinida. Ao inv\u00e9s de soletrarem \"B de bola, T de tatu, ... \" (ou como radioamador \"bravo tango ...\") tamb\u00e9m poderiam fazer uso de algo mais econ\u00f4mico (menos letras) e mais sem\u00e2ntico (correla\u00e7\u00e3o com nomes das \u00e1reas).\n\n\nDo ponto de vista estat\u00edstico \u00e9 poss\u00edvel evitar ambiguidades e nomes de rua repetidos de uma cidade restringindo-se o conjunto de nomes de rua a uma regi\u00e3o, uma sub-divis\u00e3o da cidade do tipo norte/sul/leste pode ser suficiente. Por exemplo em S\u00e3o Paulo (SPA), seria v\u00e1lido o \ngeocodigo:cruzamento\n (ponto de cruzamento) com nomes conhecidos \nSPA-centro-brigadeiro-paulista\n.\n\n\nO mesmo princ\u00edpio vale para nomes de bairro em uma cidade.  Em Jaragu\u00e1 do Sul, por exemplo, s\u00e3o quase 40 bairros e sua zona rural. O n\u00famero \u00e9 limitado e \u00e9 poss\u00edvel fazer uma sele\u00e7\u00e3o razo\u00e1vel de palavras n\u00e3o-repetidas.\n\n\n\n\n\n\n\n\npalavra\n\n\nNome do bairro\n\n\npalavra\n\n\nNome do bairro\n\n\n\n\n\n\n\n\n\n\nagua\n\n\n\u00c1gua Verde\n\n\njoao\n\n\nJo\u00e3o Pessoa\n\n\n\n\n\n\namizade\n\n\nAmizade\n\n\nlalau\n\n\nVila Lalau\n\n\n\n\n\n\nantonio\n\n\nSanto Ant\u00f4nio\n\n\nlenzi\n\n\nVila Lenzi\n\n\n\n\n\n\nbaependi\n\n\nVila Baependi\n\n\nluz\n\n\nRio da Luz\n\n\n\n\n\n\ncerro\n\n\nBarra do Rio Cerro\n\n\nluzia\n\n\nSanta Luzia\n\n\n\n\n\n\nbmolha\n\n\nBarra do Rio Molha\n\n\nmalwee\n\n\nParque Malwee\n\n\n\n\n\n\nboa\n\n\nBoa Vista\n\n\nmolha\n\n\nRio Molha\n\n\n\n\n\n\nbraco\n\n\nBra\u00e7o do Ribeir\u00e3o Cavalo\n\n\nmonos\n\n\nTifa Monos\n\n\n\n\n\n\nbrasilia\n\n\nNova Bras\u00edlia\n\n\nnereu\n\n\nNereu Ramos\n\n\n\n\n\n\ncavalo\n\n\nRibeir\u00e3o Cavalo\n\n\nnova\n\n\nVila Nova\n\n\n\n\n\n\ncentenario\n\n\nCenten\u00e1rio\n\n\nnoventa\n\n\nJaragu\u00e1 99\n\n\n\n\n\n\ncentro\n\n\nCentro\n\n\noitenta\n\n\nJaragu\u00e1 84\n\n\n\n\n\n\nriocerro\n\n\nRio Cerro I\n\n\nrau\n\n\nRau\n\n\n\n\n\n\ncerrodois\n\n\nRio Cerro II\n\n\nrural\n\n\n\u00c1rea Rural de Jaragu\u00e1 do Sul\n\n\n\n\n\n\nchico\n\n\nChico de Paulo\n\n\nsluiz\n\n\nS\u00e3o Lu\u00eds\n\n\n\n\n\n\nclaras\n\n\n\u00c1guas Claras\n\n\ntifa\n\n\nTifa Martins\n\n\n\n\n\n\nczerniewicz\n\n\nCzerniewicz\n\n\ntresnorte\n\n\nTr\u00eas Rios do Norte\n\n\n\n\n\n\nesquerdo\n\n\nJaragu\u00e1 Esquerdo\n\n\ntressul\n\n\nTr\u00eas Rios do Sul\n\n\n\n\n\n\nestrada\n\n\nEstrada Nova\n\n\nvieira\n\n\nVieira\n\n\n\n\n\n\nilha\n\n\nIlha da Figueira\n\n\n\n\n\n\n\n\n\n\n\n\nConforme veremos a estrat\u00e9gia de criar palavras pode ser substituida por composi\u00e7\u00f5es norte/sul/leste/oeste dadas automaticamente pelo algoritmo a seguir.\n\n\nRotula\u00e7\u00e3o de \u00edndices cont\u00edguos\n\n\nA rotula\u00e7\u00e3o tem sido sugerida por press\u00e3o do destaque que tomou o padr\u00e3o \nwhat3words\n. A contra-partida dos geoc\u00f3digos n\u00e3o-mnem\u00f4nicos tem sido a sugest\u00e3o de nomes alternativos a prefixos de c\u00f3digo (sin\u00f4nimos de prefixos), baseados em palavras derivadas de nomes mais afinados com nomes consagrados de \u00e1reas, bairros ou marcos geogr\u00e1ficos.\n\n\nNo caso de parti\u00e7\u00e3o usando S2, que identifica cada c\u00e9lula por uma curva de Hilbert, a ordena\u00e7\u00e3o pelo \u00edndice em geral permitir\u00e1  ilustrar a sequ\u00eancia por intervalos associados a  \u00e1reas cont\u00edguas:\n\n\n\n\n\u00c1reas de c\u00e9lulas S2 t\u00edpicas, ilustradas abaixo, s\u00e3o obtias por algoritmos de ajuste par\u00e2metros e otimiza\u00e7\u00e3o, em  algoritmos mais sofisticados.\n\n\nAlgumas refer\u00eancias (ex. \nref06\n) sugerem associar \u00e1reas cont\u00edguas a subregi\u00f5es que j\u00e1 apresentem nomes tradicionais, tais como nomes de bairro ou dire\u00e7\u00f5es (leste/sul/etc.), criando op\u00e7\u00f5es de c\u00f3digos mais mnem\u00f4nicos no caso de indexa\u00e7\u00e3o de dois d\u00edgitos.\n\n\nSugere-se que o uso de nomes seja sempre alternativo ao uso de c\u00f3digos, nunca a \u00fanica op\u00e7\u00e3o. Desse modo ter\u00edamos substitu\u00eddos um ou dois d\u00edgitos por r\u00f3tulos, por exemplo (um port\u00e3o de Piracicaba SP) ao inv\u00e9s de \nPIR-1234.456\n o c\u00f3digo seria \nPIR-sul-234.456\n ou \nPIR-madalena-34.456\n. A rotula\u00e7\u00e3o de regi\u00f5es centro/norte/sul/etc em geral \u00e9 a mais factivel, todavia causaria confuns\u00e3o com a delimita\u00e7\u00e3o oficial e n\u00e3o chega a substituir um d\u00edgito por completo. A rotula\u00e7\u00e3o com palavras j\u00e1 seria bem mais artificial, n\u00e3o garante associa\u00e7\u00e3o com nomes de regi\u00f5es, apenas uma refer\u00eancia vaga (ex. palavra de nome de uma rua que nasce na c\u00e9lula ou de um parque do seu interior).\n\n\nUma op\u00e7\u00e3o mnem\u00f4nica mais vi\u00e1vel seria acrescentando um d\u00edgito decimal arbitr\u00e1rio ao nome da regi\u00e3o, resultando em c\u00f3digos como \nPIR-sul2-34.456\n ou \nPIR-madalena3-4.456\n, tendo em vista que a combina\u00e7\u00e3o nome-d\u00edgito pode ser suficiente para designar cada c\u00e9lula da subregi\u00e3o.\n\n\nNo exemplo de bairros de Jaragu\u00e1 do Sul, que \u00e9 uma cidade menor cujas macro-c\u00e9lulas possuem da ordem de 1km, \u00e9 poss\u00edvel estabelecer as \"dom\u00ednios de bairro\" e neles, quando for mais de um, diferenciar pela dire\u00e7\u00e3o. Bairros maiores como Cerro, Centro, Ilha e Amizade, teriam suas c\u00e9lulas rotuladas na forma \ncerro_sul\n, \ncerro_norte\n, \ncentro_leste\n, \nilha_oeste\n, \namizade_norte\n.", 
            "title": "Algoritmos ing\u00eanuos"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#compactacao-ingenua", 
            "text": "Algoritmo de convers\u00e3o de coordenadas geogr\u00e1ficas em CLP-coordenada atrav\u00e9s da \"compacta\u00e7\u00e3o ing\u00eanua\".    ENTRADAS: as coordenadas de um ponto sobre o territ\u00f3rio nacional, em formato decimal padr\u00e3o.  Exemplo  da  apresenta\u00e7\u00e3o , o MASP em S\u00e3o Paulo, nas coordenadas  \"-23.56151,-46.65596\" , com precis\u00e3o de ~5m. A entrada pode ser expressa no padr\u00e3o Geo URI,   geo:-23.56151,-46.65596;u=5 , composta rigorosamente por: latitude  (primeira coordenada, \"-23.56151\" no exemplo) longitude  (segunda coordenada, \"-46.65596\" no exemplo) uncertainty  (abreviado  u  com valor 5 no exemplo)    ENTRADA OPCIONAL: o contexto em geral \u00e9 \"Brasil\", de modo que na sa\u00edda, o c\u00f3digo resultante pode omitir o prefixo  BR .     SA\u00cdDA: um s\u00f3 c\u00f3digo compacto e revers\u00edvel, que pode ser convertido de volta nas coordenadas da entrada pelo algoritmo inverso.    O passo-a-passo da convers\u00e3o da entrada em sa\u00edda \u00e9 o seguinte:    Detecta-se atrav\u00e9s de um mapa oficial dos munic\u00edpios, tal como o OpenStreetMap, qual o munic\u00edpio da coordenada. O mapa retorna o seu identificador de munic\u00edpio IBGE,  id_ibge , a sua abrevia\u00e7\u00e3o de 3 letras,  abbrev3  e os valores m\u00ednimos de latitude e longitude daquele munic\u00edpio,  minlat  e  minlon .  No caso do exemplo temos   id_ibge := 3550308 ,  abbrev3 := \"BR-SP-SPA\" ,  minlat := -24.007  e  minlon := -46.8264088    Obt\u00e9m-se as \"coordenadas locais\" subtraindo cada componente, ou seja,  latitude_local := latitude - minlat ;  longitude_local := longitude - minlon .  No exemplo resultaria em  latitude_local=0.44549  e  longitude_local=0.17045 .    Obt\u00ean-se um \"numer\u00e3o\" a partir da normaliza\u00e7\u00e3o e \"fus\u00e3o\" das coordenadas locais.  A forma mais ing\u00eanua \u00e9 concatenar, mas pode-se usar variantes como a \"fus\u00e3o por intercala\u00e7\u00e3o\". A normaliza\u00e7\u00e3o consiste apenas em acrescentar zeros a esqueda da parte inteira ou \u00e0 direita da parte fracion\u00e1ria, quando necess\u00e1rio.  No exemplo: ...  numerao = normaliza(latitude_local,u) || normaliza(longitude_local,u) .    Converte-se o numer\u00e3o decimal para base32. Variantes podem considerar base36 ou base58, assim como diferentes alfabetos.    O c\u00f3digo por fim \u00e9 obtido", 
            "title": "Compacta\u00e7\u00e3o ing\u00eanua"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#exemplo-novamente", 
            "text": "Apenas apresentando em narrativa mais longa o que j\u00e1 foi indicado acima no passo-a-passo, e que o algoritmo ing\u00eanuo n\u00e3o fica muito atr\u00e1s dos sofisticados Geohash e PlusCode.     Tecnologia de refer\u00eancia (c\u00f3digo padr\u00e3o) e resolu\u00e7\u00e3o  Op\u00e7\u00e3o de CLP proposta      Ing\u00eanuo  ( 44OH8TL )  ~4x4 m  SPA-44OH.8TL    Geohash  ( 6gycfqf0m )  ~4x4 m  SPA-YCFQ.F0M    Geohash  ( 6gycfqf0 )  ~25x20 m  SPA-YCFQ.F0    PlusCode  ( 588MC8QV+CJ )  ~15x15 m  SPA-C8QV+CJ      O CLP do MASP poderia ser formado s\u00f3 pelos d\u00edgitos das coordenadas, algo como  2356151,4665596 , mas ainda seriam 7+7=14 d\u00edgitos, muito longo para lembrar ou digitar.  As coordenadas podem ficar mais compactas se ao inv\u00e9s de serem representadas na base10 (decimal), usarmos a  base32 , o que resultaria em  27STN,4EC7S , 5+5 d\u00edgitos. Ainda melhor sem a v\u00edrgula, tudo num s\u00f3 numer\u00e3o, pois a convers\u00e3o trata ele como um todo e fica um d\u00edgito mais compacto,  LDNBRCHJS ... pronto, 9 d\u00edgitos!  Compactamos a informa\u00e7\u00e3o original de 14 d\u00edgitos para 9, simplesmente estabelecendo uma conven\u00e7\u00e3o de representa\u00e7\u00e3o mais adequada para um c\u00f3digo... Podemos fazer melhor?  Sim, ainda sem recorrer a receitas num\u00e9ricas complexas, podemos  usar a informa\u00e7\u00e3o de contexto . O contexto do MASP  \u00e9 o munic\u00edpio  de S\u00e3o Paulo, que podemos abreviar para  SP  j\u00e1 que \u00e9 a capital do Estado   se fosse digigamos Piracicaba seria uma abrevia\u00e7\u00e3o de 3 letras,  PIR .  Se levar  em conta as coordenadas de todos os pontos internos ao tra\u00e7ado do munic\u00edpio de S\u00e3o Paulo tem o mesmo prefixo, como latitude na forma \"-23.5 etc \" e longitude \"-46.6 etc \", podemos incluir o sigla  SP  do munic\u00edpio no c\u00f3digo e elinar d\u00edgitos redundantes do seu contexto. No caso do Geohash fazemos  cortando a parte inicial do c\u00f3digo  que for comum a todos os pontos da cidade.  Matematicamente, h\u00e1 uma forma mais precisa do que cortar prefixos. Fazemos isso subtraindo a menor latitude (-24.007) e a menor longitude (-46.82641) o que resultaria em coordenadas 0.44549 e 0.17045 para o MASP, concatendo-as num numer\u00e3o e depois representando em base32 resultaria em  44OH8TL , ou seja, o c\u00f3digo mais curto e palat\u00e1vel para o ser humano,  SP-44OH.8TL . Que m\u00e1gica, temos uma receita simples e um c\u00f3digo compacto!  O c\u00f3digo  SPA-44OH.8TL  \u00e9 bem  mais f\u00e1cil de lembrar  do que as coordenadas, porque a sigla do munic\u00edpio \u00e9 amig\u00e1vel, e o restante dos caracteres \u00e9 mais curto do que um n\u00famero de telefone. Claro, esse  n\u00e3o \u00e9 o padr\u00e3o proposto  pois ele carece de outras caracter\u00edsticas que o Geohash e outros padr\u00f5es oferecem.   O que precisa ficar claro \u00e9 que a tecnologia pode ser simples, a m\u00e1gica est\u00e1 em estabelecer um consenso no que queremos, n\u00e3o em encontrar uma receita complexa para resolver o problema.", 
            "title": "Exemplo novamente"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#fusao-intrelacada-ingenua", 
            "text": "A fus\u00e3o de latitude com longitude \"num s\u00f3 numer\u00e3o\", a rigor precisa ser feita bit-a-bit conforme descrita  nesta dica de algoritmo em linguagem C . A seguir o algoritmo ing\u00eanuo tem a finalidade exclusiva de ser did\u00e1tico, mostrando como essa vontade de \"fundir n\u00fameros num s\u00f3\", de forma um pouco mais inteligente, acabou levando aos algoritmos modernos de indexa\u00e7\u00e3o baseados em curvas fractais.  No algoritmo mais ing\u00eanuo, descrito acima, a fus\u00e3o \u00e9 realizada por simples concatena\u00e7\u00e3o. Essa t\u00e9cnica \u00e9 satisfat\u00f3ria em termos de compacta\u00e7\u00e3o, mas apresenta inconvenientes no c\u00f3digo resultante, porque leva a c\u00e9lulas vizinhas com prefixos diferentes. A estrat\u00e9gia de simplesmente intercalar os d\u00edgitos j\u00e1 figura como solu\u00e7\u00e3o na representa\u00e7\u00e3o decimal. Tomemos novamente o exemplo do MASP, com coordenadas locais  lat:=44549; lon:=17045;  intercalar \u00e9 ir concatenando d\u00edgito a d\u00edgito, revezando entre as coordendas. Passo-a-passo:   primeiro d\u00edgito de  lat  \u00e9  4 . Sobram  lat=4549  e fica  fundido=4 ;  primeiro d\u00edgito de  lon  \u00e9  1 . Sobram  lon=7045  e fica  fundido=41 ;  segundo d\u00edgito de  lat  \u00e9  4 . Sobram  lat=549  e fica  fundido=414 ;  segundo d\u00edgito de  lon  \u00e9  7 . Sobram  lon=045  e fica  fundido=4147 ;  ...  fundido=4147504495 .   Agora esse numer\u00e3o fundido tem o mesmo comportamento por exemplo que o CEP: dois endere\u00e7os sem primeiros d\u00edgitos iguais estar\u00e3o a muitos quil\u00f4metros de dist\u00e2ncia, talvez extremos diferentes do pa\u00eds; com primeiros digamos 4 d\u00edgitos iguais est\u00e3o numa mesma macro-regi\u00e3o... E se diferem apenas nos dois \u00faltimos d\u00edgitos, s\u00e3o endere\u00e7os vizinhos.  Repare que \u00e9 t\u00e3o compacto quanto a concatena\u00e7\u00e3o direta, o fundido decimal tem 10 d\u00edgitos e o base32 ( 3RJBPBF ) 7 d\u00edgitos, como no caso concatenado. Sendo assim  n\u00e3o h\u00e1 raz\u00e3o alguma para concatenar, \u00e9 sempre melhor fundir .  Mas nem sempre d\u00e1 sorte de todos os endere\u00e7os de uma cidade, quando representados dessa forma,  terem um mesmo prefixoz\u00e3o, ser\u00e1 um prefixozinho e isso n\u00e3o ajuda muito a compactar pelo \"prefixo municipal\".  Para se obter um prefixo municipal maior \u00e9 preciso usar uma base num\u00e9rica menor, ou seja, menor que a base10 no exemplo. E a menor base poss\u00edvel \u00e9 a base2, por isso o algoritmo correto, mais eficiente \u00e9 a intercala\u00e7\u00e3o em base2.   Esse pequeno milagre de preservar prefixo nas vizinhan\u00e7as foi descoberto por acaso ao organizarmos melhor a concatena\u00e7\u00e3o, e tem uma explica\u00e7\u00e3o geom\u00e9trica, pois o entrela\u00e7amento resulta numa  \"curva de ordem Z\" ... E justamente essa curva explica os problemas residuais de \"saltos de vizinhan\u00e7a\", que nem o algoritmo bin\u00e1rio resolve.  Na verdade o algoritmo Geohash acrescentou uma pequena melhora, trocando as coordenadas usuais pela divis\u00e3o bin\u00e1ria recorrente do globo terrestre, mas ainda assim n\u00e3o resolve os saltos da curva Z.  S\u00f3 a curva de Hilbert parece dar uma solu\u00e7\u00e3o mais satisfat\u00f3ria. Ela \u00e9 usada em algoritmos ex\u00f3ticos, como o  Geohash-hilbert , e em algoritmos padronizados modernos, como o  S2-geometry .", 
            "title": "Fus\u00e3o intrela\u00e7ada ing\u00eanua"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#indexacao-ingenua-da-grade-municipal", 
            "text": "Para qualquer algoritmo de convers\u00e3o das coordenadas num s\u00f3 c\u00f3digo, consta-se que o c\u00f3digo ser\u00e1 mais compacto quanto menor for a \u00e1rea do munic\u00edpio. Isso alias \u00e9 um dos fundamentos, j\u00e1 enunciados pelo MapCode ... ((link equa\u00e7\u00e3o \u00e1rea em fun\u00e7\u00e3o do n\u00famero de d\u00edgitos))  Assim, uma \u00e1rea municipal muito densa ou muito grande precisa ser subdividida em \u00e1reas menores, para garantir resultados mais compactos... Mas ao subdividir haver\u00e1 o custo adicional de se indicar o c\u00f3digo dessa \u00e1rea menor. Nisso consiste a indexa\u00e7\u00e3o.    ENTRADAS: geometria do pol\u00edgono do munic\u00edpio ( geom ) e par\u00e2metros de cobertura, principalmente a quantidade-alvo de c\u00e9lulas na grade ( target  indicando 32 ou 1024).    SA\u00cdDA: lista de identificadores de c\u00e9lula, tipicamente c\u00e9lulas S2.  cells .    Passo-a-passo, depois de padronizar a base do c\u00f3digo resultante (nos exemplos usamos base32),    Avaliar se a \u00e1rea do munic\u00edpio ( geom ) requer zero, 1 ou 2 d\u00edgitos de indexa\u00e7\u00e3o.  No caso do exemplo \"d\u00edgitos base32\", de modo que seriam parti\u00e7\u00f5es da \u00e1rea em zero (fica como est\u00e1), 32 partes ou 1024 partes.  No caso de S\u00e3o Paulo, parece razo\u00e1vel um s\u00f3 d\u00edgito, ou seja, o resultado seria  target=32 .    Usar um algoritmo de parti\u00e7\u00e3o qualquer ( S2  por exemplo), sem compromisso com o sistema de representa\u00e7\u00e3o. Equivale a aplicar uma \"grade de n\u00edvel L\" \u00e0 \u00e1rea do munic\u00edpio, onde L \u00e9 o n\u00edvel hierarquico da grade. Ajusta-se o melhor poss\u00edvel para particionar o m\u00e1ximo com o n\u00famero de d\u00edgitos indicado pelo passo anterior.    Listar os identificadores de grade ou seu intervalo, como resultado em  cells . A ordem dos elementos em  cells  j\u00e1 \u00e9 o \u00edndice da c\u00e9lula (ex. valores de 0 a  target-1 ) para aquele munic\u00edpio.", 
            "title": "Indexa\u00e7\u00e3o ing\u00eanua da grade municipal"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#reducao-de-nomes-a-palavras", 
            "text": "Hoje no Brasil j\u00e1 se praticam em algumas cidades como S\u00e3o Paulo o uso de rotula\u00e7\u00e3o abreviada, por \"palavra distintiva\" do nome rua, tipicamente quando de nomes compostos.   Essa estrat\u00e9gia \u00e9 v\u00e1lida em contextos onde o conjunto totais de nomes \u00e9  reduzido . Ao longo de uma via principal, o n\u00famero de vias perpendiculares \u00e9 limitado, e do para fins de sele\u00e7\u00e3o de palavras n\u00e3o-repetidas pode-se considerar um   conjunto reduzido .    ENTRADAS: conjunto de nomes completos.    SA\u00cdDA: conjunto de pares  (nome_completo,palavra) .    Trata-se de um algoritmo estat\u00edstico, que toma como entrada nomes completos e devolve palavras.  Policia, ambul\u00e2ncia, bombeiro e outros servi\u00e7os que precisam transmitir por r\u00e1dio e sem ambiguidade o nome da localiza\u00e7\u00e3o, que por vezes \u00e9 um cruzamento ou uma quadra idenfinida. Ao inv\u00e9s de soletrarem \"B de bola, T de tatu, ... \" (ou como radioamador \"bravo tango ...\") tamb\u00e9m poderiam fazer uso de algo mais econ\u00f4mico (menos letras) e mais sem\u00e2ntico (correla\u00e7\u00e3o com nomes das \u00e1reas).  Do ponto de vista estat\u00edstico \u00e9 poss\u00edvel evitar ambiguidades e nomes de rua repetidos de uma cidade restringindo-se o conjunto de nomes de rua a uma regi\u00e3o, uma sub-divis\u00e3o da cidade do tipo norte/sul/leste pode ser suficiente. Por exemplo em S\u00e3o Paulo (SPA), seria v\u00e1lido o  geocodigo:cruzamento  (ponto de cruzamento) com nomes conhecidos  SPA-centro-brigadeiro-paulista .  O mesmo princ\u00edpio vale para nomes de bairro em uma cidade.  Em Jaragu\u00e1 do Sul, por exemplo, s\u00e3o quase 40 bairros e sua zona rural. O n\u00famero \u00e9 limitado e \u00e9 poss\u00edvel fazer uma sele\u00e7\u00e3o razo\u00e1vel de palavras n\u00e3o-repetidas.     palavra  Nome do bairro  palavra  Nome do bairro      agua  \u00c1gua Verde  joao  Jo\u00e3o Pessoa    amizade  Amizade  lalau  Vila Lalau    antonio  Santo Ant\u00f4nio  lenzi  Vila Lenzi    baependi  Vila Baependi  luz  Rio da Luz    cerro  Barra do Rio Cerro  luzia  Santa Luzia    bmolha  Barra do Rio Molha  malwee  Parque Malwee    boa  Boa Vista  molha  Rio Molha    braco  Bra\u00e7o do Ribeir\u00e3o Cavalo  monos  Tifa Monos    brasilia  Nova Bras\u00edlia  nereu  Nereu Ramos    cavalo  Ribeir\u00e3o Cavalo  nova  Vila Nova    centenario  Centen\u00e1rio  noventa  Jaragu\u00e1 99    centro  Centro  oitenta  Jaragu\u00e1 84    riocerro  Rio Cerro I  rau  Rau    cerrodois  Rio Cerro II  rural  \u00c1rea Rural de Jaragu\u00e1 do Sul    chico  Chico de Paulo  sluiz  S\u00e3o Lu\u00eds    claras  \u00c1guas Claras  tifa  Tifa Martins    czerniewicz  Czerniewicz  tresnorte  Tr\u00eas Rios do Norte    esquerdo  Jaragu\u00e1 Esquerdo  tressul  Tr\u00eas Rios do Sul    estrada  Estrada Nova  vieira  Vieira    ilha  Ilha da Figueira       Conforme veremos a estrat\u00e9gia de criar palavras pode ser substituida por composi\u00e7\u00f5es norte/sul/leste/oeste dadas automaticamente pelo algoritmo a seguir.", 
            "title": "Redu\u00e7\u00e3o de nomes a palavras"
        }, 
        {
            "location": "/spec04ap05-ingenuos/#rotulacao-de-indices-contiguos", 
            "text": "A rotula\u00e7\u00e3o tem sido sugerida por press\u00e3o do destaque que tomou o padr\u00e3o  what3words . A contra-partida dos geoc\u00f3digos n\u00e3o-mnem\u00f4nicos tem sido a sugest\u00e3o de nomes alternativos a prefixos de c\u00f3digo (sin\u00f4nimos de prefixos), baseados em palavras derivadas de nomes mais afinados com nomes consagrados de \u00e1reas, bairros ou marcos geogr\u00e1ficos.  No caso de parti\u00e7\u00e3o usando S2, que identifica cada c\u00e9lula por uma curva de Hilbert, a ordena\u00e7\u00e3o pelo \u00edndice em geral permitir\u00e1  ilustrar a sequ\u00eancia por intervalos associados a  \u00e1reas cont\u00edguas:   \u00c1reas de c\u00e9lulas S2 t\u00edpicas, ilustradas abaixo, s\u00e3o obtias por algoritmos de ajuste par\u00e2metros e otimiza\u00e7\u00e3o, em  algoritmos mais sofisticados.  Algumas refer\u00eancias (ex.  ref06 ) sugerem associar \u00e1reas cont\u00edguas a subregi\u00f5es que j\u00e1 apresentem nomes tradicionais, tais como nomes de bairro ou dire\u00e7\u00f5es (leste/sul/etc.), criando op\u00e7\u00f5es de c\u00f3digos mais mnem\u00f4nicos no caso de indexa\u00e7\u00e3o de dois d\u00edgitos.  Sugere-se que o uso de nomes seja sempre alternativo ao uso de c\u00f3digos, nunca a \u00fanica op\u00e7\u00e3o. Desse modo ter\u00edamos substitu\u00eddos um ou dois d\u00edgitos por r\u00f3tulos, por exemplo (um port\u00e3o de Piracicaba SP) ao inv\u00e9s de  PIR-1234.456  o c\u00f3digo seria  PIR-sul-234.456  ou  PIR-madalena-34.456 . A rotula\u00e7\u00e3o de regi\u00f5es centro/norte/sul/etc em geral \u00e9 a mais factivel, todavia causaria confuns\u00e3o com a delimita\u00e7\u00e3o oficial e n\u00e3o chega a substituir um d\u00edgito por completo. A rotula\u00e7\u00e3o com palavras j\u00e1 seria bem mais artificial, n\u00e3o garante associa\u00e7\u00e3o com nomes de regi\u00f5es, apenas uma refer\u00eancia vaga (ex. palavra de nome de uma rua que nasce na c\u00e9lula ou de um parque do seu interior).  Uma op\u00e7\u00e3o mnem\u00f4nica mais vi\u00e1vel seria acrescentando um d\u00edgito decimal arbitr\u00e1rio ao nome da regi\u00e3o, resultando em c\u00f3digos como  PIR-sul2-34.456  ou  PIR-madalena3-4.456 , tendo em vista que a combina\u00e7\u00e3o nome-d\u00edgito pode ser suficiente para designar cada c\u00e9lula da subregi\u00e3o.  No exemplo de bairros de Jaragu\u00e1 do Sul, que \u00e9 uma cidade menor cujas macro-c\u00e9lulas possuem da ordem de 1km, \u00e9 poss\u00edvel estabelecer as \"dom\u00ednios de bairro\" e neles, quando for mais de um, diferenciar pela dire\u00e7\u00e3o. Bairros maiores como Cerro, Centro, Ilha e Amizade, teriam suas c\u00e9lulas rotuladas na forma  cerro_sul ,  cerro_norte ,  centro_leste ,  ilha_oeste ,  amizade_norte .", 
            "title": "Rotula\u00e7\u00e3o de \u00edndices cont\u00edguos"
        }, 
        {
            "location": "/assets/README/", 
            "text": "Cr\u00e9ditos\n\n\nAgradecemos a todos os coment\u00e1rios e discuss\u00f5es da Comunidade OpenStreetMap do Brasil, nos canais Telegram-Comunidade e Telegram-Avan\u00e7ado, bem como aqueles que direta ou indireamente auxiliaram na revis\u00e3o dos textos deste projeto.\n\n\nAgradecemos ao governo do Estado de S\u00e3o Paulo e suas Secretarias,  por terem \"aberto os port\u00f5es\" \u00e0 participa\u00e7\u00e3o da comunidade no debate do problema do endere\u00e7amento rural.\n\n\nImagens\n\n\n\n\n\n\n\n\nFile\n\n\nLicense\n\n\nReuse (type/resp/year)\n\n\noriginal URL\n\n\n\n\n\n\n\n\n\n\nCLP-resumo1b.png\n\n\nCC-BY\n\n\nadapted /ppkrauss /2018\n\n\ncont\u00e9m peda\u00e7o obtido por captura de trecho de slide apresentado por representantes do Governo do Estado de S\u00e3o Paulo.\n\n\n\n\n\n\nCC0-logo\n\n\nCC0\n\n\nadapted /ppkrauss /2018\n\n\nwikipedia.org/CC0_button.svg\n\n\n\n\n\n\nGPS-coverage01.png\n\n\nCC-BY\n\n\ncut /ppkrauss /2018\n\n\nsemanticscholar.org/paper/2901ed2f\n\n\n\n\n\n\nilustra-escalas01.jpg\n\n\nCC0\n\n\nadapted /ppkrauss /2018\n\n\n-\n\n\n\n\n\n\nportas-casa01.jpg\n\n\nCC0\n\n\noriginal /pxhere /2018\n\n\npxhere.com/pt/photo/935764\n \nproof\n\n\n\n\n\n\nporteira01.jpg\n\n\nCC0\n\n\noriginal /pixabay /2018\n\n\npixabay.com/pt/porteira-fazenda-viagem-1222916\n \nproof\n\n\n\n\n\n\nportico01.jpg\n\n\nCC0\n\n\noriginal /Wikimedia /2015\n\n\ncommons.wikimedia.org/wiki/File:P\u00f3rtico_de_Venha-Ver_(RN)\n\n\n\n\n\n\nmarcoZeroSP.png\n\n\nCC-BY\n\n\ncut /ppkrauss /2018\n\n\nmovable-type.co.uk/scripts/geohash\n\n\n\n\n\n\n\n\ntanzania_plus-nq8.png - http://shtosm.ru/  \n\n\n\n\nConte\u00fado e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico", 
            "title": "Cr\u00e9ditos"
        }, 
        {
            "location": "/assets/README/#creditos", 
            "text": "Agradecemos a todos os coment\u00e1rios e discuss\u00f5es da Comunidade OpenStreetMap do Brasil, nos canais Telegram-Comunidade e Telegram-Avan\u00e7ado, bem como aqueles que direta ou indireamente auxiliaram na revis\u00e3o dos textos deste projeto.  Agradecemos ao governo do Estado de S\u00e3o Paulo e suas Secretarias,  por terem \"aberto os port\u00f5es\" \u00e0 participa\u00e7\u00e3o da comunidade no debate do problema do endere\u00e7amento rural.", 
            "title": "Cr\u00e9ditos"
        }, 
        {
            "location": "/assets/README/#imagens", 
            "text": "File  License  Reuse (type/resp/year)  original URL      CLP-resumo1b.png  CC-BY  adapted /ppkrauss /2018  cont\u00e9m peda\u00e7o obtido por captura de trecho de slide apresentado por representantes do Governo do Estado de S\u00e3o Paulo.    CC0-logo  CC0  adapted /ppkrauss /2018  wikipedia.org/CC0_button.svg    GPS-coverage01.png  CC-BY  cut /ppkrauss /2018  semanticscholar.org/paper/2901ed2f    ilustra-escalas01.jpg  CC0  adapted /ppkrauss /2018  -    portas-casa01.jpg  CC0  original /pxhere /2018  pxhere.com/pt/photo/935764   proof    porteira01.jpg  CC0  original /pixabay /2018  pixabay.com/pt/porteira-fazenda-viagem-1222916   proof    portico01.jpg  CC0  original /Wikimedia /2015  commons.wikimedia.org/wiki/File:P\u00f3rtico_de_Venha-Ver_(RN)    marcoZeroSP.png  CC-BY  cut /ppkrauss /2018  movable-type.co.uk/scripts/geohash     tanzania_plus-nq8.png - http://shtosm.ru/     Conte\u00fado e dados deste projeto s\u00e3o dedicados ao dom\u00ednio p\u00fablico", 
            "title": "Imagens"
        }
    ]
}